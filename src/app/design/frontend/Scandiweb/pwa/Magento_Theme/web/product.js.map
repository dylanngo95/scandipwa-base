{"version":3,"sources":["webpack:////var/www/public/vendor/scandipwa/source/src/app/component/GroupedProductList/GroupedProductList.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/GroupedProductList/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/GroupedProductsItem/GroupedProductsItem.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/GroupedProductsItem/GroupedProductsItem.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/GroupedProductsItem/GroupedProductsItem.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/GroupedProductsItem/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItem/ProductBundleItem.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItem/ProductBundleItem.config.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItem/ProductBundleItem.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItem/ProductBundleItem.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItem/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItems/ProductBundleItems.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItems/ProductBundleItems.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductBundleItems/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductConfigurableAttributes/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOption/ProductCustomizableOption.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOption/ProductCustomizableOption.config.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOption/ProductCustomizableOption.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOption/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOptions/ProductCustomizableOptions.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOptions/ProductCustomizableOptions.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOptions/ProductCustomizableOptions.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductCustomizableOptions/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGallery/ProductGallery.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGallery/ProductGallery.config.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGallery/ProductGallery.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGallery/ProductGallery.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGallery/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGalleryBaseImage/ProductGalleryBaseImage.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGalleryBaseImage/ProductGalleryBaseImage.config.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGalleryBaseImage/ProductGalleryBaseImage.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGalleryBaseImage/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGalleryThumbnailImage/ProductGalleryThumbnailImage.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGalleryThumbnailImage/ProductGalleryThumbnailImage.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductGalleryThumbnailImage/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductInformation/ProductInformation.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductInformation/ProductInformation.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductInformation/ProductInformation.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductInformation/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductReviewForm/ProductReviewForm.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductReviewForm/ProductReviewForm.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductReviewForm/ProductReviewForm.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductReviewForm/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductReviewList/ProductReviewList.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductReviewList/ProductReviewList.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductReviewList/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductWishlistButton/ProductWishlistButton.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductWishlistButton/ProductWishlistButton.config.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductWishlistButton/ProductWishlistButton.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductWishlistButton/ProductWishlistButton.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ProductWishlistButton/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ReviewStar/ReviewStar.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ReviewStar/ReviewStar.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/ReviewStar/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoPopup/VideoPopup.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoPopup/VideoPopup.config.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoPopup/VideoPopup.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoPopup/VideoPopup.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoPopup/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoThumbnail/VideoThumbnail.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoThumbnail/VideoThumbnail.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoThumbnail/VideoThumbnail.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/component/VideoThumbnail/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/route/ProductPage/ProductPage.component.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/route/ProductPage/ProductPage.container.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/route/ProductPage/ProductPage.style.scss","webpack:////var/www/public/vendor/scandipwa/source/src/app/route/ProductPage/index.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/type/Account.js","webpack:////var/www/public/vendor/scandipwa/source/src/app/type/Rating.js","webpack:///./src/app/component/ProductActions/ProductActions.component.js","webpack:///./src/app/component/ProductActions/ProductActions.config.js","webpack:///./src/app/component/ProductActions/ProductActions.container.js","webpack:///./src/app/component/ProductActions/ProductActions.style.scss","webpack:///./src/app/component/ProductActions/index.js","webpack:///./src/app/component/ProductReviews/ProductReviews.component.js","webpack:///./src/app/component/ProductReviews/ProductReviews.config.js","webpack:///./src/app/component/ProductReviews/ProductReviews.container.js","webpack:///./src/app/component/ProductReviews/ProductReviews.style.scss","webpack:///./src/app/component/ProductReviews/index.js"],"names":["GroupedProductList","clearGroupedProductQuantity","props","items","groupedProductQuantity","setGroupedProductQuantity","map","product","id","qty","type_id","renderProductList","Object","defineProperty","_GroupedProductList","value","ProductType","isRequired","PropTypes","objectOf","number","func","GroupedProductsItem","name","price_range","type","changeCount","itemCount","thumb_url","thumbnail","path","block","elem","media","PRODUCT_MEDIA","renderImage","renderTitle","renderQuantity","_GroupedProductsItem","GroupedProductsItemContainer","bind","_getCurrentQuantity","defaultQuantity","containerFunctions","containerProps","_GroupedProductsItemContainer","ProductBundleItem","CHECKBOX","renderCheckboxValues","MULTI","RADIO","renderDropdownValues","SELECT","item","getSelectedCheckboxValue","renderOptionLabel","label","minimum_price","regular_price","price_type","quantity","is_default","priceLabel","renderHeading","selectedDropdownValue","setDropdownItemQuantity","maxQuantity","can_change_quantity","mainTitle","titleBold","values","options","option","getDropdownOptions","setDropdownValue","dropdownOptions","__","renderQtyInput","required","renderOptionCheckboxValue","renderRequired","renderOptionDropdownValues","optionType","render","renderMap","title","_ProductBundleItem","ProductCustomizableOption","propTypes","ProductBundleItemContainer","getDefaultValues","setDefaultDropdownValue","setDefaultCheckboxValue","setSelectedDropdownValue","option_id","reduce","acc","toString","setState","setSelectedCheckboxValues","productOptionsData","requiredOptions","productOptions","productOptionsMulti","keys","length","selectedItems","push","isRequiredSelected","selectedValue","getSelectedOptionData","state","parseInt","optionId","parameters","dropdownLabel","_ProductBundleItemContainer","ProductCustomizableOptionContainer","setCustomizableOptionTextFieldValue","updateQuantity","defaultProps","ProductBundleItems","key","_ProductBundleItems","ProductCustomizableOptions","array","ProductBundleItemsContainer","selectedDropdownOptions","selectedCheckboxValues","price","getOptionPrice","stopLoading","_","prevState","isLoading","prevSelectedCheckboxValues","prevSelectedDropdownOptions","updateSelectedOptions","selectedValues","JSON","stringify","totalPrice","priceValues","getItemsPrice","getSelectedCustomizableOptions","setBundlePrice","bundleOptions","bundlePrice","getTotalPrice","filteredOptions","filter","optionData","some","val","filteredItems","concat","newItemData","Array","from","el","_ProductBundleItemsContainer","ProductCustomizableOptionsContainer","ProductItemsType","DROPDOWN","TEXT_FIELD","renderTextField","renderTextFieldTitle","AREA_FIELD","option_type_id","requiredSelected","max_characters","data","updateTextFieldValue","textValue","fieldType","renderMaxCharacters","optionRenderMap","_ProductCustomizableOption","object","string","bool","getOptionType","getIsRequiredSelected","priceType","formatCurrency","fieldValue","_ProductCustomizableOptionContainer","isPlaceholder","renderPlaceholder","renderContent","_ProductCustomizableOptions","textFieldValues","prevTextFieldValues","updateSelectedOptionsArray","customizableOptions","option_value","textFieldValue","_ProductCustomizableOptionsContainer","OptionsType","ProductGallery","MAX_ZOOM_SCALE","createRef","scrollEnabled","index","onActiveImageChange","zoomState","scale","timeout","stopScrolling","context","renderSlide","updateSharedDestinationElement","prevProps","productId","pathname","location","prevProductId","prevPathname","sliderRef","CSS","setVariable","current","draggableRef","registerSharedElementDestination","imageRef","mods","setTimeout","mediaData","isZoomEnabled","handleZoomChange","disableZoom","onWheelStart","onWheel","limitsOnWheel","disabled","limitToWrapperBounds","velocity","limitToBounds","minScale","previousScale","resetTransform","setTransform","media_type","IMAGE_TYPE","VIDEO_TYPE","renderVideo","PLACEHOLDER_TYPE","gallery","slice","GALLERY_LENGTH_BEFORE_COLLAPSE","renderAdditionalPicture","activeImage","renderGalleryNotice","renderAdditionalPictures","renderSlider","_ProductGallery","arrayOf","shape","oneOfType","image","alt","LocationType","withRouter","THUMBNAIL_KEY","AMOUNT_OF_PLACEHOLDERS","ProductGalleryContainer","getGalleryPictures","productName","_getProductName","prevProdId","areDetailsLoaded","media_gallery_entries","mediaGallery","url","srcMedia","types","position","canBeShown","isThumbnail","includes","fill","placeholders","base","document","documentElement","classList","remove","args","add","SharedTransitionContainer","_ProductGalleryContainer","ProductGalleryBaseImage","src","display","_ProductGalleryBaseImage","TRANSFORMATION_DELAY","TRANSFORMATION_SPEED","INITIAL_SCALE","ProductGalleryBaseImageContainer","_getAlt","_getSrc","nextProps","nextScale","nextId","file","baseUrl","_ProductGalleryBaseImageContainer","ProductGalleryThumbnailImage","thumbnailUrl","renderMedia","_ProductGalleryThumbnailImage","ProductInformation","attributeLabel","valueLabel","attributesWithValues","entries","renderAttribute","description","html","heading","renderDescription","renderAttributes","_ProductInformation","AttributeType","ProductInformationContainer","_getAttributesWithValues","attributes","allAttribsWithValues","attribute_label","attribute_value","valueIndexFromParameter","_ProductInformationContainer","ProductReviewForm","rating_id","ratingData","onStarRatingClick","isChecked","ratingTitleMap","reviewRatings","rating","rating_code","rating_options","sort","nextValue","renderReviewStar","handleNicknameChange","handleSummaryChange","handleDetailChange","reviewData","nickname","summary","detail","renderReviewRating","onReviewSubmitAttempt","onReviewSubmitSuccess","onReviewError","renderReviewFormContent","renderButton","_ProductReviewForm","RatingItemsType","ReviewDispatcher","mapStateToProps","customer","MyAccountReducer","isSignedIn","ConfigReducer","mapDispatchToProps","dispatch","addReview","then","dispatcher","default","submitProductReview","showNotification","message","hideActiveOverlay","goToPreviousHeaderState","goToPreviousNavigationState","TOP_NAVIGATION_TYPE","ProductReviewFormContainer","_onReviewSubmitAttempt","_onReviewSubmitSuccess","_onStarRatingClick","_handleFieldChange","_onReviewError","firstname","invalidFields","reviewsAreNotValid","every","fields","rating_data","product_sku","sku","success","fieldName","_ProductReviewFormContainer","customerType","connect","ProductReviewList","ratingVoteItem","vote_id","percent","reviewItem","review_id","rating_votes","renderReviewListItemRating","renderAuthor","created_at","fixedDate","replace","date","Date","toDateString","getFormattedDate","reviews","renderReviewListItem","hasReviews","renderReviews","_ProductReviewList","ProductWishlistButton","isInWishlist","isReady","addToWishlist","removeFromWishlist","isDisabled","mix","isHollow","getTitle","onClick","renderLoader","_ProductWishlistButton","mod","ERROR_CONFIGURABLE_NOT_PROVIDED","WishlistDispatcher","productsInWishlist","WishlistReducer","addProductToWishlist","wishlistItem","addItemToWishlist","removeProductFromWishlist","removeItemFromWishlist","ProductWishlistButtonContainer","_getIsProductReady","toggleProductInWishlist","onProductValidationError","_getProductVariant","variantSku","product_option","find","wishlist","item_id","productSku","findIndex","configurableVariantIndex","extension_attributes","getExtensionAttributes","variant","variants","_ProductWishlistButtonContainer","ReviewStar","_ReviewStar","VideoPopup","loadVimeoLibrary","loadYouTubeLibrary","Promise","all","vimeoPromise","youTubePromise","forceUpdate","cancel","videoId","Vimeo","vimeoComponent","YouTube","youTubeComponent","playerVars","autoplay","makeCancelable","promise","vimeo","youTube","payload","video_content","video_url","VIMEO_FORMAT","exec","vimeoId","_renderVimeoVideo","YOUTUBE_FORMAT","youtubeId","_renderYoutubeVideo","VIDEO_POPUP_ID","_renderVideoContent","_VideoPopup","MediaItemType","RegExp","PopupReducer","popupPayload","VideoThumbnail","video_title","onPlayClick","renderPlayIcon","_VideoThumbnail","showPopup","VideoThumbnailContainer","_onPlayClick","event","preventDefault","_VideoThumbnailContainer","ProductPage","getLink","dataSource","updateConfigurableVariant","productOrVariant","selectedBundlePrice","device","isMobile","renderCustomizableOptions","RELATED","UPSELL","renderProductPageContent","renderAdditionalSections","_ProductPage","DeviceType","BreadcrumbsDispatcher","MetaDispatcher","ProductDispatcher","isOffline","OfflineReducer","ProductReducer","navigation","NavigationReducer","metaTitle","MetaReducer","changeHeaderState","changeNavigationState","BOTTOM_NAVIGATION_TYPE","requestProduct","handleData","setBigOfflineNotice","isBig","updateBreadcrumbs","breadcrumbs","updateWithProduct","updateMetaFromProduct","ProductPageContainer","currentProductSKU","productSKU","getDataSource","getProductOrVariant","getAreDetailsLoaded","updateNavigationState","updateMeta","updateHeaderState","prevProductSKU","prevSku","prevOptions","prevItems","history","stateSKU","debounce","setOfflineNoticeSize","LOADING_TIME","getRequiredProductOptions","search","obj","convertQueryStringToKeyValuePairs","query","objectToUri","updateArray","hasOwnProperty","call","getIsConfigurableParameterSelected","oldValue","newParameters","getNewParameters","updateUrl","updateConfigurableVariantIndex","isParameterSelected","updateQueryParamWithoutHistory","removeQueryParamWithoutHistory","configurable_options","newIndex","getVariantIndex","currentVariantIndex","getConfigurableVariantIndex","stateProduct","isSingleProduct","getProductRequestFilter","MENU_TAB","PDP","onBackClick","back","prevSKU","_ProductPageContainer","HistoryType","match","MatchType","undefined","regionType","region_code","region","region_id","addressType","city","country_id","customer_id","default_billing","default_shipping","lastname","middlename","postcode","prefix","street","suffix","telephone","addressesType","dob","email","group_id","is_subscribed","taxvat","baseOrderInfoType","increment_id","status_label","grand_total","subtotal","orderType","base_order_info","order_products","payment_info","shipping_info","ordersType","DASHBOARD","MY_ORDERS","MY_WISHLIST","ADDRESS_BOOK","NEWSLETTER_SUBSCRIPTION","activeTabType","tabType","tabMapType","signInStateType","RatingOptionItemType","ProductActions","stockStatus","showOnlyIfLoaded","stock_status","renderStock","getIsConfigurableAttributeAvailable","configurableOptionsRef","BUNDLE","short_description","htmlWithItemProp","renderShortDescriptionContent","brand","minQuantity","setQuantity","GROUPED","offerCount","stockMeta","metaLink","renderOfferCount","CONFIGURABLE","productPrice","renderConfigurablePriceBadge","renderSchema","offerType","renderPriceWithSchema","rating_summary","review_summary","review_count","ONE_FIFTH_OF_A_HUNDRED","parseFloat","toFixed","groupedProductsRef","renderPriceWithGlobalSchema","renderShortDescription","renderQuantityInput","renderAddToCart","renderProductWishlistButton","renderNameAndBrand","renderSkuAndStock","renderConfigurableAttributes","renderBundleItems","renderGroupedItems","renderTierPrices","_ProductActions","PriceType","DEFAULT_MAX_PRODUCTS","ProductActionsContainer","getIsOptionInCurrentVariant","_setGroupedProductQuantity","_clearGroupedProductQuantity","onProductError","getMinQuantity","getMaxQuantity","_getGroupedProductQuantity","getProductPrice","getProductName","getOfferCount","getOfferType","getStockMeta","getMetaLink","ref","scrollIntoView","behavior","offsetWidth","onConfigurableProductError","onGroupedProductError","attribute","attribute_code","isAttributeSelected","parameterPairs","selectedAttributes","foundValue","window","origin","currency","priceValue","final_price","expression","content","placeholder","stock_item","min_sale_qty","minVariantQty","max_sale_qty","maxVariantQty","minQty","maxQty","_ProductActionsContainer","ProductReviews","REVIEW_POPUP_ID","reviewCount","STARS_COUNT","PERCENT","renderNoRating","renderRatingSchema","reviewSchemaObject","itemType","itemProp","itemScope","renderRatingData","renderSummary","renderList","renderPopup","_ProductReviews","isEnabled","reviews_are_enabled","isGuestEnabled","reviews_allow_guest","showInfoNotification","ProductReviewsContainer","_showPopup","_ProductReviewsContainer"],"mappings":"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","file":"product.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport GroupedProductsItem from 'Component/GroupedProductsItem';\nimport { ProductType } from 'Type/ProductList';\n\n/**\n * Product description\n * @class GroupedProductList\n * @namespace Component/GroupedProductList/Component\n */\nexport class GroupedProductList extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        clearGroupedProductQuantity: PropTypes.func.isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired\n    };\n\n    componentWillUnmount() {\n        const { clearGroupedProductQuantity } = this.props;\n        clearGroupedProductQuantity();\n    }\n\n    renderProductList(items) {\n        const {\n            groupedProductQuantity,\n            setGroupedProductQuantity\n        } = this.props;\n\n        return (\n            <ul>\n                { items.map(({ product, product: { id }, qty }) => (\n                    <GroupedProductsItem\n                      key={ id }\n                      product={ product }\n                      defaultQuantity={ qty }\n                      groupedProductQuantity={ groupedProductQuantity }\n                      setGroupedProductQuantity={ setGroupedProductQuantity }\n                    />\n                )) }\n            </ul>\n        );\n    }\n\n    render() {\n        const {\n            product: { items, type_id }\n        } = this.props;\n\n        if (type_id !== 'grouped') {\n            return null;\n        }\n        if (!items) {\n            return null;\n        }\n\n        return this.renderProductList(items);\n    }\n}\n\nexport default GroupedProductList;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './GroupedProductList.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Image from 'Component/Image';\nimport ProductPrice from 'Component/ProductPrice';\nimport TextPlaceholder from 'Component/TextPlaceholder';\nimport { ProductType } from 'Type/ProductList';\nimport media, { PRODUCT_MEDIA } from 'Util/Media';\n\nimport './GroupedProductsItem.style';\n\n/**\n * Grouped Product Item\n * @class GroupedProduct\n * @namespace Component/GroupedProductsItem/Component\n */\nexport class GroupedProductsItem extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        changeCount: PropTypes.func.isRequired,\n        itemCount: PropTypes.number.isRequired\n    };\n\n    renderTitle() {\n        const {\n            product: {\n                name,\n                price_range\n            }\n        } = this.props;\n\n        return (\n            <div block=\"GroupedProductsItem\" elem=\"Title\">\n                <p>\n                    <TextPlaceholder content={ name } />\n                </p>\n                <ProductPrice price={ price_range } mods={ { type: 'regular' } } />\n            </div>\n        );\n    }\n\n    renderQuantity() {\n        const {\n            changeCount,\n            itemCount\n        } = this.props;\n\n        return (\n            <div block=\"GroupedProductsItem\" elem=\"Quantity\">\n                <Field\n                  type=\"number\"\n                  id=\"HeaderInput\"\n                  name=\"HeaderInput\"\n                  onChange={ changeCount }\n                  value={ itemCount }\n                  min={ 0 }\n                />\n            </div>\n        );\n    }\n\n    renderImage() {\n        const {\n            product: {\n                thumbnail: {\n                    path: thumb_url\n                }\n            }\n        } = this.props;\n\n        return (\n            <Image\n              mix={ { block: 'GroupedProductsItem', elem: 'Image' } }\n              src={ thumb_url && media(thumb_url, PRODUCT_MEDIA) }\n              alt=\"Product Thumbnail\"\n            />\n        );\n    }\n\n    render() {\n        return (\n            <li block=\"GroupedProductsItem\" aria-label=\"Product Item\">\n                { this.renderImage() }\n                { this.renderTitle() }\n                { this.renderQuantity() }\n            </li>\n        );\n    }\n}\n\nexport default GroupedProductsItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport GroupedProductsItem from './GroupedProductsItem.component';\n\n/** @namespace Component/GroupedProductsItem/Container */\nexport class GroupedProductsItemContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired,\n        defaultQuantity: PropTypes.number.isRequired\n    };\n\n    containerFunctions = {\n        changeCount: this.changeCount.bind(this)\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { defaultQuantity } = this.props;\n        this.changeCount(defaultQuantity);\n    }\n\n    containerProps = () => ({\n        itemCount: this._getCurrentQuantity()\n    });\n\n    /**\n     * Get the selected quantity of grouped product\n     * @return {Number} product quantity\n     */\n    _getCurrentQuantity() {\n        const {\n            product: { id },\n            groupedProductQuantity\n        } = this.props;\n\n        return groupedProductQuantity[id] || 0;\n    }\n\n    changeCount(itemCount) {\n        const { setGroupedProductQuantity, product: { id } } = this.props;\n        setGroupedProductQuantity(id, itemCount);\n    }\n\n    render() {\n        return (\n            <GroupedProductsItem\n              { ...this.props }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default GroupedProductsItemContainer;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110902\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './GroupedProductsItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport Field from 'Component/Field';\nimport ProductCustomizableOption from 'Component/ProductCustomizableOption/ProductCustomizableOption.component';\n\nimport {\n    CHECKBOX,\n    MULTI,\n    RADIO,\n    SELECT\n} from './ProductBundleItem.config';\n\nimport './ProductBundleItem.style';\n\n/** @namespace Component/ProductBundleItem/Component */\nexport class ProductBundleItem extends ProductCustomizableOption {\n    static propTypes = {\n        ...ProductCustomizableOption.propTypes,\n        maxQuantity: PropTypes.number.isRequired,\n        setDropdownItemQuantity: PropTypes.func.isRequired\n    };\n\n    renderMap = {\n        [CHECKBOX]: this.renderCheckboxValues.bind(this),\n        [MULTI]: this.renderCheckboxValues.bind(this),\n        [RADIO]: this.renderDropdownValues.bind(this),\n        [SELECT]: this.renderDropdownValues.bind(this)\n    };\n\n    renderHeading(mainTitle, titleBold, quantity) {\n        return (\n            <>\n                <span\n                  block=\"ProductBundleItem\"\n                  elem=\"Heading\"\n                >\n                    { `${ quantity } x ${ mainTitle } + ` }\n                </span>\n                <span\n                  block=\"ProductBundleItem\"\n                  elem=\"HeadingBold\"\n                >\n                    { titleBold }\n                </span>\n            </>\n        );\n    }\n\n    renderOptionCheckboxValue = (item) => {\n        const {\n            getSelectedCheckboxValue,\n            renderOptionLabel\n        } = this.props;\n\n        const {\n            id,\n            label,\n            product: { price_range: { minimum_price: { regular_price: { value } } } },\n            price_type,\n            quantity,\n            is_default\n        } = item;\n\n        const priceLabel = renderOptionLabel(price_type, value);\n\n        return (\n            <div key={ id }>\n                <Field\n                  type=\"checkbox\"\n                  label={ this.renderHeading(label, priceLabel, quantity) }\n                  id={ `option-${ id }` }\n                  name={ `option-${ id }` }\n                  value={ id }\n                  checked={ is_default }\n                  onChange={ getSelectedCheckboxValue }\n                />\n            </div>\n        );\n    };\n\n    renderQtyInput = (item) => {\n        const {\n            selectedDropdownValue,\n            setDropdownItemQuantity,\n            maxQuantity\n        } = this.props;\n        const { id, quantity, can_change_quantity } = item;\n\n        if (id !== selectedDropdownValue || !can_change_quantity) {\n            return null;\n        }\n\n        return (\n            <Field\n              key={ id }\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              value={ quantity }\n              max={ maxQuantity }\n              min={ 1 }\n              mix={ { block: 'ProductBundleItems', elem: 'Qty' } }\n              onChange={ setDropdownItemQuantity }\n            />\n        );\n    };\n\n    renderOptionDropdownValues(values) {\n        const {\n            option: { options },\n            getDropdownOptions,\n            selectedDropdownValue,\n            setDropdownValue\n        } = this.props;\n        const dropdownOptions = getDropdownOptions(values);\n\n        return (\n            <div block=\"ProductBundleItem\" elem=\"DropdownWrapper\">\n                <Field\n                  id=\"bundle-options-dropdown\"\n                  name=\"bundle-options-dropdown\"\n                  type=\"select\"\n                  mix={ { block: 'ProductBundleItem', elem: 'Select' } }\n                  placeholder={ __('Choose Option') }\n                  selectOptions={ dropdownOptions }\n                  value={ selectedDropdownValue }\n                  onChange={ setDropdownValue }\n                />\n                { options.map(this.renderQtyInput) }\n            </div>\n        );\n    }\n\n    renderCheckboxValues() {\n        const { option: { required, options } } = this.props;\n\n        return (\n            <>\n                { options.map(this.renderOptionCheckboxValue) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderDropdownValues() {\n        const { option: { required, options } } = this.props;\n\n        return (\n            <>\n                { this.renderOptionDropdownValues(options) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    render() {\n        const { optionType } = this.props;\n        const render = this.renderMap[optionType];\n\n        if (!render) {\n            return null;\n        }\n\n        const { option: { title } } = this.props;\n\n        return (\n            <div block=\"ProductBundleItem\" elem=\"Wrapper\">\n                <div block=\"ProductBundleItem\" elem=\"Title\">\n                    { title }\n                </div>\n                { render() }\n            </div>\n        );\n    }\n}\n\nexport default ProductBundleItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const CHECKBOX = 'checkbox';\nexport const MULTI = 'multi';\nexport const SELECT = 'select';\nexport const RADIO = 'radio';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport ProductCustomizableOptionContainer\n    from 'Component/ProductCustomizableOption/ProductCustomizableOption.container';\n\nimport ProductBundleItem from './ProductBundleItem.component';\n\n/** @namespace Component/ProductBundleItem/Container */\nexport class ProductBundleItemContainer extends ProductCustomizableOptionContainer {\n    static propTypes = {\n        ...ProductCustomizableOptionContainer.propTypes,\n        setCustomizableOptionTextFieldValue: PropTypes.func,\n        updateQuantity: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        ...ProductCustomizableOptionContainer.defaultProps,\n        setCustomizableOptionTextFieldValue: () => {}\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        setDropdownItemQuantity: this.setDropdownItemQuantity.bind(this)\n    };\n\n    componentDidMount() {\n        this.getDefaultValues();\n    }\n\n    getDefaultValues() {\n        const { optionType } = this.containerProps();\n\n        switch (optionType) {\n        case 'select':\n        case 'radio': // handle radio as select\n            this.setDefaultDropdownValue();\n            break;\n        case 'checkbox':\n        case 'multi': // handle multi-select as checkbox\n            this.setDefaultCheckboxValue();\n            break;\n        default:\n            return null;\n        }\n\n        return null;\n    }\n\n    setDefaultDropdownValue() {\n        const {\n            setSelectedDropdownValue,\n            option: { option_id, options }\n        } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedDropdownValue(option_id, { value, quantity });\n                this.setState({ selectedDropdownValue: id });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    setDefaultCheckboxValue() {\n        const { option: { option_id, options }, setSelectedCheckboxValues } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedCheckboxValues(option_id, { value, quantity });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    getIsRequiredSelected() {\n        const {\n            productOptionsData,\n            productOptionsData: {\n                requiredOptions,\n                productOptions,\n                productOptionsMulti\n            },\n            option: {\n                option_id\n            }\n        } = this.props;\n\n        if (Object.keys(productOptionsData).length < 1 || !requiredOptions) {\n            return true;\n        }\n\n        const selectedItems = [...productOptions || [], ...productOptionsMulti || []];\n        const isRequired = requiredOptions.reduce((acc, item) => {\n            if (item === option_id) {\n                acc.push(item);\n            }\n\n            return acc;\n        }, []);\n\n        if (!isRequired.length) {\n            return true;\n        }\n\n        const isRequiredSelected = selectedItems.reduce((acc, { id }) => {\n            if (isRequired[0] === id) {\n                acc.push(id);\n            }\n\n            return acc;\n        }, []);\n\n        return !!isRequiredSelected.length;\n    }\n\n    getSelectedCheckboxValue(value) {\n        const {\n            option: { option_id },\n            setSelectedCheckboxValues\n        } = this.props;\n        const selectedValue = this.getSelectedOptionData(value);\n\n        setSelectedCheckboxValues(option_id, selectedValue);\n    }\n\n    setDropdownItemQuantity(quantity) {\n        const { setSelectedDropdownValue, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n        const value = selectedDropdownValue.toString();\n        const selectedValue = { value, quantity };\n\n        setSelectedDropdownValue(option_id, selectedValue);\n    }\n\n    setDropdownValue(value) {\n        const { setSelectedDropdownValue, option, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n\n        if (selectedDropdownValue === value) {\n            setSelectedDropdownValue(null, option);\n            this.setState({ selectedDropdownValue: 0 });\n        } else {\n            this.setState({ selectedDropdownValue: parseInt(value, 10) });\n            const selectedValue = this.getSelectedOptionData(value.toString());\n            setSelectedDropdownValue(option_id, selectedValue);\n        }\n    }\n\n    getSelectedOptionData(optionId) {\n        const { option: { options } } = this.props;\n\n        return options.reduce(\n            (parameters, { id, quantity }) => {\n                const value = id.toString();\n\n                if (optionId === value) {\n                    return { value, quantity };\n                }\n\n                return parameters;\n            }, {}\n        );\n    }\n\n    getDropdownOptions(values) {\n        return values.reduce((acc, {\n            id,\n            label,\n            price_type,\n            quantity,\n            can_change_quantity,\n            product: { price_range: { minimum_price: { regular_price: { value } } } }\n        }) => {\n            const dropdownLabel = !can_change_quantity\n                ? `${ quantity } x ${ label } + ${ this.renderOptionLabel(price_type, value) }`\n                : `${ label } + ${ this.renderOptionLabel(price_type, value) }`;\n\n            acc.push({\n                id,\n                name: label,\n                value: id,\n                label: dropdownLabel\n            });\n\n            return acc;\n        }, []);\n    }\n\n    render() {\n        return (\n            <ProductBundleItem\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductBundleItemContainer;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110926\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductBundleItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ProductBundleItem from 'Component/ProductBundleItem';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions/ProductCustomizableOptions.component';\n\n/** @namespace Component/ProductBundleItems/Component */\nexport class ProductBundleItems extends ProductCustomizableOptions {\n    static propTypes = {\n        ...ProductCustomizableOptions.propTypes,\n        items: PropTypes.array,\n        maxQuantity: PropTypes.number.isRequired,\n        updateQuantity: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        items: []\n    };\n\n    renderContent() {\n        const {\n            items,\n            setSelectedCheckboxValues,\n            setSelectedDropdownValue,\n            maxQuantity,\n            updateQuantity,\n            productOptionsData\n        } = this.props;\n\n        return items.map((item, key) => (\n            <ProductBundleItem\n              option={ item }\n              /* eslint-disable-next-line react/no-array-index-key */\n              key={ key }\n              setSelectedCheckboxValues={ setSelectedCheckboxValues }\n              setSelectedDropdownValue={ setSelectedDropdownValue }\n              maxQuantity={ maxQuantity }\n              updateQuantity={ updateQuantity }\n              productOptionsData={ productOptionsData }\n            />\n        ));\n    }\n}\n\nexport default ProductBundleItems;\n","/* eslint-disable fp/no-let */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport ProductCustomizableOptionsContainer\n    from 'Component/ProductCustomizableOptions/ProductCustomizableOptions.container';\nimport { ProductItemsType } from 'Type/ProductList';\n\nimport ProductBundleItems from './ProductBundleItems.component';\n\n/** @namespace Component/ProductBundleItems/Container */\nexport class ProductBundleItemsContainer extends ProductCustomizableOptionsContainer {\n    static propTypes = {\n        ...ProductCustomizableOptionsContainer.propTypes,\n        items: ProductItemsType,\n        setBundlePrice: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        items: []\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        updateQuantity: this.updateQuantity.bind(this)\n    };\n\n    componentDidMount() {\n        const { items } = this.props;\n\n        if (items) {\n            this.stopLoading();\n        }\n    }\n\n    componentDidUpdate(_, prevState) {\n        const { items } = this.props;\n        const {\n            selectedCheckboxValues,\n            selectedDropdownOptions,\n            isLoading\n        } = this.state;\n\n        const {\n            selectedCheckboxValues: prevSelectedCheckboxValues,\n            selectedDropdownOptions: prevSelectedDropdownOptions\n        } = prevState;\n\n        if (items && isLoading) {\n            this.stopLoading();\n        }\n\n        if (\n            selectedDropdownOptions !== prevSelectedDropdownOptions\n            || selectedCheckboxValues !== prevSelectedCheckboxValues\n        ) {\n            this.updateSelectedOptions();\n        }\n    }\n\n    stopLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    getOptionPrice(item, selectedValues) {\n        const { option_id } = item;\n        let price = 0;\n\n        selectedValues.reduce((acc, { id, quantity, value }) => {\n            if (option_id === id) {\n                const { options } = item;\n\n                options.reduce((acc, { id: optionId, product }) => {\n                    if (JSON.stringify(value) === JSON.stringify([optionId.toString()])) {\n                        const { price_range: { minimum_price: { regular_price: { value } } } } = product;\n                        price += (value * quantity);\n                    }\n\n                    return acc;\n                }, []);\n            }\n\n            return acc;\n        }, []);\n\n        return price;\n    }\n\n    getItemsPrice = (item) => {\n        const { selectedDropdownOptions, selectedCheckboxValues } = this.state;\n        let price = 0;\n\n        if (selectedCheckboxValues.length) {\n            price += this.getOptionPrice(item, selectedCheckboxValues);\n        }\n\n        if (selectedDropdownOptions.length) {\n            price += this.getOptionPrice(item, selectedDropdownOptions);\n        }\n\n        return price;\n    };\n\n    getTotalPrice() {\n        const { items } = this.props;\n        let totalPrice = 0;\n\n        const priceValues = items.map(this.getItemsPrice);\n\n        priceValues.reduce((acc, item) => {\n            totalPrice += item;\n\n            return acc;\n        }, []);\n\n        return totalPrice;\n    }\n\n    updateSelectedOptions() {\n        const { getSelectedCustomizableOptions, setBundlePrice } = this.props;\n        const { selectedDropdownOptions, selectedCheckboxValues } = this.state;\n        const bundleOptions = [];\n        const bundlePrice = this.getTotalPrice();\n\n        bundleOptions.push(\n            ...bundleOptions,\n            ...selectedCheckboxValues,\n            ...selectedDropdownOptions\n        );\n\n        getSelectedCustomizableOptions(bundleOptions);\n        setBundlePrice(bundlePrice);\n    }\n\n    setSelectedDropdownValue(id, option) {\n        const { selectedDropdownOptions } = this.state;\n        const { value, quantity, option_id } = option;\n\n        if (!id) {\n            const filteredOptions = selectedDropdownOptions.filter((item) => item.id !== option_id);\n            this.setState({ selectedDropdownOptions: filteredOptions });\n\n            return;\n        }\n\n        const optionData = { id, quantity, value: [value] };\n\n        if (selectedDropdownOptions.some(({ id: val }) => val === id)) {\n            const filteredItems = selectedDropdownOptions.filter((item) => item.id !== id);\n            this.setState({ selectedDropdownOptions: filteredItems.concat(optionData) });\n\n            return;\n        }\n\n        const newItemData = selectedDropdownOptions;\n        newItemData.push(optionData);\n\n        this.setState({\n            selectedDropdownOptions: Array.from(newItemData)\n        });\n    }\n\n    updateQuantity(value, quantity) {\n        const { selectedCheckboxValues } = this.state;\n\n        this.setState({\n            selectedCheckboxValues: selectedCheckboxValues.map((el) => (\n                JSON.stringify(el.value) === JSON.stringify(value) ? { ...el, quantity } : el\n            ))\n        });\n    }\n\n    setSelectedCheckboxValues(id, optionData) {\n        const { selectedCheckboxValues } = this.state;\n        const { value, quantity } = optionData;\n        const selectedValue = { id, quantity, value: [value] };\n\n        if (selectedCheckboxValues.some(({ value: val }) => JSON.stringify([value]) === JSON.stringify(val))) {\n            this.setState({\n                selectedCheckboxValues: selectedCheckboxValues.filter(\n                    (item) => JSON.stringify(item.value) !== JSON.stringify([value])\n                ) || []\n            });\n\n            return;\n        }\n\n        const newItemData = selectedCheckboxValues;\n        newItemData.push(selectedValue);\n\n        this.setState({\n            selectedCheckboxValues: Array.from(newItemData)\n        });\n    }\n\n    render() {\n        return (\n            <ProductBundleItems\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default ProductBundleItemsContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductBundleItems.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductConfigurableAttributes.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Field from 'Component/Field';\n\nimport {\n    AREA_FIELD, CHECKBOX, DROPDOWN, TEXT_FIELD\n} from './ProductCustomizableOption.config';\n\n/** @namespace Component/ProductCustomizableOption/Component */\nexport class ProductCustomizableOption extends PureComponent {\n    static propTypes = {\n        option: PropTypes.object.isRequired,\n        textValue: PropTypes.string.isRequired,\n        getSelectedCheckboxValue: PropTypes.func.isRequired,\n        renderOptionLabel: PropTypes.func.isRequired,\n        updateTextFieldValue: PropTypes.func.isRequired,\n        setDropdownValue: PropTypes.func.isRequired,\n        selectedDropdownValue: PropTypes.number.isRequired,\n        optionType: PropTypes.string.isRequired,\n        getDropdownOptions: PropTypes.func.isRequired,\n        requiredSelected: PropTypes.bool.isRequired\n    };\n\n    renderMap = {\n        [CHECKBOX]: {\n            render: () => this.renderCheckboxValues(),\n            title: () => this.renderTitle()\n        },\n        [DROPDOWN]: {\n            render: () => this.renderDropdownValues(),\n            title: () => this.renderTitle()\n        },\n        [TEXT_FIELD]: {\n            render: () => this.renderTextField(),\n            title: () => this.renderTextFieldTitle()\n        },\n        [AREA_FIELD]: {\n            render: () => this.renderTextField(),\n            title: () => this.renderTextFieldTitle()\n        }\n    };\n\n    renderRequired(isRequired) {\n        const { requiredSelected } = this.props;\n\n        // skip undefined and false\n        if (isRequired !== true || requiredSelected) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              elem=\"Required\"\n            >\n                { __('This field is required!') }\n            </div>\n        );\n    }\n\n    renderHeading(mainTitle, titleBold) {\n        return (\n            <>\n                <span\n                  block=\"ProductCustomizableOptions\"\n                  elem=\"Heading\"\n                >\n                    { `${ mainTitle } + ` }\n                </span>\n                <span\n                  block=\"ProductCustomizableOptions\"\n                  elem=\"HeadingBold\"\n                >\n                    { titleBold }\n                </span>\n            </>\n        );\n    }\n\n    renderOptionCheckboxValue = (item) => {\n        const { getSelectedCheckboxValue, renderOptionLabel } = this.props;\n        const {\n            option_type_id,\n            title,\n            price,\n            price_type\n        } = item;\n\n        const priceLabel = renderOptionLabel(price_type, price);\n\n        return (\n            <Field\n              type=\"checkbox\"\n              label={ this.renderHeading(title, priceLabel) }\n              key={ option_type_id }\n              id={ `option-${ option_type_id }` }\n              name={ `option-${ option_type_id }` }\n              value={ option_type_id }\n              onChange={ getSelectedCheckboxValue }\n            />\n        );\n    };\n\n    renderOptionDropdownValues(values) {\n        const {\n            getDropdownOptions,\n            selectedDropdownValue,\n            setDropdownValue\n        } = this.props;\n        const dropdownOptions = getDropdownOptions(values);\n\n        return (\n            <Field\n              id=\"customizable-options-dropdown\"\n              name=\"customizable-options-dropdown\"\n              type=\"select\"\n              mix={ { block: 'CustomizableOptions', elem: 'Select' } }\n              placeholder={ __('Choose Option') }\n              selectOptions={ dropdownOptions }\n              value={ selectedDropdownValue }\n              onChange={ setDropdownValue }\n            />\n        );\n    }\n\n    renderMaxCharacters(max_characters) {\n        if (max_characters <= 0) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              elem=\"Information\"\n            >\n                { __('Maximum %s characters', max_characters) }\n            </div>\n        );\n    }\n\n    renderCheckboxValues() {\n        const { option: { required, data } } = this.props;\n\n        return (\n            <>\n                { data.map(this.renderOptionCheckboxValue) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderDropdownValues() {\n        const { option: { required, data } } = this.props;\n\n        return (\n            <>\n                { this.renderOptionDropdownValues(data) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderTextField() {\n        const {\n            option: {\n                required,\n                data\n            },\n            updateTextFieldValue,\n            textValue,\n            optionType\n        } = this.props;\n        const { max_characters } = data;\n        const fieldType = optionType === 'field' ? 'text' : 'textarea';\n\n        return (\n            <>\n                <Field\n                  id={ `customizable-options-${ optionType }` }\n                  name={ `customizable-options-${ optionType }` }\n                  type={ fieldType }\n                  maxLength={ max_characters > 0 ? max_characters : null }\n                  value={ textValue }\n                  onChange={ updateTextFieldValue }\n                />\n                { this.renderRequired(required) }\n                { this.renderMaxCharacters(max_characters) }\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { option } = this.props;\n        const { title } = option;\n\n        return title;\n    }\n\n    renderTextFieldTitle() {\n        const {\n            renderOptionLabel,\n            option: {\n                title,\n                data: {\n                    price_type,\n                    price\n                }\n            }\n        } = this.props;\n\n        const priceLabel = renderOptionLabel(price_type, price);\n\n        return this.renderHeading(title, priceLabel);\n    }\n\n    render() {\n        const {\n            option: {\n                option_id\n            },\n            optionType\n        } = this.props;\n\n        const optionRenderMap = this.renderMap[optionType];\n\n        if (!optionRenderMap) {\n            return null;\n        }\n\n        const { render, title } = optionRenderMap;\n\n        return (\n            <ExpandableContent\n              heading={ title() }\n              mix={ { block: 'ProductCustomizableOptions', elem: 'Content' } }\n              key={ option_id }\n              isContentExpanded\n            >\n                { render() }\n            </ExpandableContent>\n        );\n    }\n}\n\nexport default ProductCustomizableOption;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const CHECKBOX = 'checkbox';\nexport const DROPDOWN = 'dropdown';\nexport const TEXT_FIELD = 'field';\nexport const AREA_FIELD = 'area';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { formatCurrency } from 'Util/Price';\n\nimport ProductCustomizableOption from './ProductCustomizableOption.component';\n\n/** @namespace Component/ProductCustomizableOption/Container */\nexport class ProductCustomizableOptionContainer extends PureComponent {\n    static propTypes = {\n        option: PropTypes.object.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        setCustomizableOptionTextFieldValue: PropTypes.func.isRequired,\n        setSelectedDropdownValue: PropTypes.func.isRequired\n    };\n\n    state = {\n        textValue: '',\n        selectedDropdownValue: 0\n    };\n\n    containerFunctions = {\n        getDropdownOptions: this.getDropdownOptions.bind(this),\n        getSelectedCheckboxValue: this.getSelectedCheckboxValue.bind(this),\n        updateTextFieldValue: this.updateTextFieldValue.bind(this),\n        setDropdownValue: this.setDropdownValue.bind(this),\n        renderOptionLabel: this.renderOptionLabel.bind(this)\n    };\n\n    containerProps = () => ({\n        optionType: this.getOptionType(),\n        requiredSelected: this.getIsRequiredSelected()\n    });\n\n    getOptionType() {\n        const { option } = this.props;\n        const { type } = option;\n\n        return type;\n    }\n\n    getIsRequiredSelected() {\n        const {\n            productOptionsData,\n            productOptionsData: {\n                requiredOptions,\n                productOptions,\n                productOptionsMulti\n            },\n            option: {\n                option_id\n            }\n        } = this.props;\n\n        if (Object.keys(productOptionsData).length < 1 || !requiredOptions) {\n            return true;\n        }\n\n        const selectedItems = [...productOptions || [], ...productOptionsMulti || []];\n        const isRequired = requiredOptions.reduce((acc, item) => {\n            if (item === option_id) {\n                acc.push(item);\n            }\n\n            return acc;\n        }, []);\n\n        if (!isRequired.length) {\n            return true;\n        }\n\n        const isRequiredSelected = selectedItems.reduce((acc, { option_id }) => {\n            if (isRequired[0] === option_id) {\n                acc.push(option_id);\n            }\n\n            return acc;\n        }, []);\n\n        return !!isRequiredSelected.length;\n    }\n\n    renderOptionLabel(priceType, price) {\n        switch (priceType) {\n        case 'PERCENT':\n            return `${ price }%`;\n        default:\n            return `${ formatCurrency() }${ price }`;\n        }\n    }\n\n    getSelectedCheckboxValue(value) {\n        const { option, setSelectedCheckboxValues } = this.props;\n        const { option_id } = option;\n\n        setSelectedCheckboxValues(option_id, value);\n    }\n\n    updateTextFieldValue(value) {\n        const { option, setCustomizableOptionTextFieldValue } = this.props;\n        const { option_id } = option;\n\n        setCustomizableOptionTextFieldValue(option_id, value);\n        this.setState({ fieldValue: value });\n    }\n\n    setDropdownValue(value) {\n        const { setSelectedDropdownValue, option } = this.props;\n        const { selectedDropdownValue } = this.state;\n\n        if (selectedDropdownValue === value) {\n            setSelectedDropdownValue(null, option);\n            this.setState({ selectedDropdownValue: 0 });\n        } else {\n            setSelectedDropdownValue(value, option);\n            this.setState({ selectedDropdownValue: parseInt(value, 10) });\n        }\n    }\n\n    getDropdownOptions(values) {\n        return values.reduce((acc, {\n            option_type_id, title, price, price_type\n        }) => {\n            acc.push({\n                id: option_type_id,\n                name: title,\n                value: option_type_id,\n                label: `${title} + ${this.renderOptionLabel(price_type, price)}`\n            });\n\n            return acc;\n        }, []);\n    }\n\n    render() {\n        return (\n            <ProductCustomizableOption\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductCustomizableOptionContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductCustomizableOption.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ProductCustomizableOption from 'Component/ProductCustomizableOption';\n\nimport './ProductCustomizableOptions.style';\n\n/** @namespace Component/ProductCustomizableOptions/Component */\nexport class ProductCustomizableOptions extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        options: PropTypes.array,\n        productOptionsData: PropTypes.object.isRequired,\n        setSelectedDropdownValue: PropTypes.func.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        setCustomizableOptionTextFieldValue: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        options: []\n    };\n\n    renderContent() {\n        const {\n            options,\n            productOptionsData,\n            setSelectedCheckboxValues,\n            setCustomizableOptionTextFieldValue,\n            setSelectedDropdownValue\n        } = this.props;\n\n        return options.map((option, key) => (\n            <ProductCustomizableOption\n              option={ option }\n              /* eslint-disable-next-line react/no-array-index-key */\n              key={ key }\n              setSelectedCheckboxValues={ setSelectedCheckboxValues }\n              setCustomizableOptionTextFieldValue={ setCustomizableOptionTextFieldValue }\n              setSelectedDropdownValue={ setSelectedDropdownValue }\n              productOptionsData={ productOptionsData }\n            />\n        ));\n    }\n\n    renderPlaceholder() {\n        const { isLoading } = this.props;\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              mods={ { isLoading, isPlaceholder: true } }\n            />\n        );\n    }\n\n    render() {\n        const { isLoading } = this.props;\n\n        if (isLoading) {\n            return this.renderPlaceholder();\n        }\n\n        return this.renderContent();\n    }\n}\n\nexport default ProductCustomizableOptions;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { OptionsType } from 'Type/ProductList';\n\nimport ProductCustomizableOptions from './ProductCustomizableOptions.component';\n\n/** @namespace Component/ProductCustomizableOptions/Container */\nexport class ProductCustomizableOptionsContainer extends PureComponent {\n    static propTypes = {\n        options: OptionsType,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        options: []\n    };\n\n    state = {\n        isLoading: true,\n        selectedCheckboxValues: [],\n        selectedDropdownOptions: [],\n        textFieldValues: []\n    };\n\n    containerFunctions = {\n        setSelectedDropdownValue: this.setSelectedDropdownValue.bind(this),\n        setSelectedCheckboxValues: this.setSelectedCheckboxValues.bind(this),\n        setCustomizableOptionTextFieldValue: this.setCustomizableOptionTextFieldValue.bind(this)\n    };\n\n    componentDidMount() {\n        const { options } = this.props;\n\n        if (options) {\n            this.stopLoading();\n        }\n    }\n\n    componentDidUpdate(_, prevState) {\n        const { options } = this.props;\n        const {\n            selectedCheckboxValues,\n            selectedDropdownOptions,\n            textFieldValues,\n            isLoading\n        } = this.state;\n\n        const {\n            selectedCheckboxValues: prevSelectedCheckboxValues,\n            selectedDropdownOptions: prevSelectedDropdownOptions,\n            textFieldValues: prevTextFieldValues\n        } = prevState;\n\n        if (options && isLoading) {\n            this.stopLoading();\n        }\n\n        if (selectedCheckboxValues !== prevSelectedCheckboxValues) {\n            this.updateSelectedOptionsArray();\n        }\n\n        if (textFieldValues !== prevTextFieldValues\n            || selectedDropdownOptions !== prevSelectedDropdownOptions\n        ) {\n            this.updateSelectedOptions();\n        }\n    }\n\n    stopLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    updateSelectedOptionsArray() {\n        const { getSelectedCustomizableOptions } = this.props;\n        const { selectedCheckboxValues } = this.state;\n        const customizableOptions = [];\n\n        customizableOptions.push(...customizableOptions, ...selectedCheckboxValues);\n        getSelectedCustomizableOptions(customizableOptions, true);\n    }\n\n    updateSelectedOptions() {\n        const { getSelectedCustomizableOptions } = this.props;\n        const {\n            selectedDropdownOptions,\n            textFieldValues\n        } = this.state;\n        const customizableOptions = [];\n\n        customizableOptions.push(\n            ...customizableOptions,\n            ...textFieldValues,\n            ...selectedDropdownOptions\n        );\n\n        getSelectedCustomizableOptions(customizableOptions);\n    }\n\n    setCustomizableOptionTextFieldValue(option_id, option_value) {\n        const { textFieldValues } = this.state;\n\n        if (!option_value) {\n            const filteredOptions = textFieldValues.filter((item) => item.option_id !== option_id);\n            return this.setState({ textFieldValues: filteredOptions });\n        }\n\n        const textFieldValue = { option_id, option_value };\n\n        if (textFieldValues.some(({ option_id: val }) => option_id === val)) {\n            const filteredItems = textFieldValues.filter((value) => value.option_id !== option_id);\n            return this.setState({ textFieldValues: filteredItems.concat(textFieldValue) });\n        }\n\n        return this.setState({ textFieldValues: [...textFieldValues, textFieldValue] });\n    }\n\n    setSelectedDropdownValue(value, option) {\n        const { selectedDropdownOptions } = this.state;\n        const { option_id } = option;\n\n        if (!value) {\n            const filteredOptions = selectedDropdownOptions.filter((item) => item.option_id !== option_id);\n            return this.setState({ selectedDropdownOptions: filteredOptions });\n        }\n\n        const optionData = { option_id, option_value: value };\n\n        if (selectedDropdownOptions.some(({ option_id: val }) => option_id === val)) {\n            const filteredItems = selectedDropdownOptions.filter((value) => value.option_id !== option_id);\n            return this.setState({ selectedDropdownOptions: filteredItems.concat(optionData) });\n        }\n\n        return this.setState({\n            selectedDropdownOptions:\n                [...selectedDropdownOptions, optionData]\n        });\n    }\n\n    setSelectedCheckboxValues(option_id, option_value) {\n        const { selectedCheckboxValues } = this.state;\n        const selectedValue = { option_id, option_value };\n\n        if (selectedCheckboxValues.some(({ option_value: val }) => option_value === val)) {\n            this.setState({\n                selectedCheckboxValues: selectedCheckboxValues.filter(\n                    (value) => value.option_value !== option_value\n                ) || []\n            });\n\n            return;\n        }\n\n        this.setState({\n            selectedCheckboxValues: [...selectedCheckboxValues, selectedValue]\n        });\n    }\n\n    render() {\n        return (\n            <ProductCustomizableOptions\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default ProductCustomizableOptionsContainer;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110373\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductCustomizableOptions.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { withRouter } from 'react-router';\nimport { TransformWrapper } from 'react-zoom-pan-pinch';\n\nimport Image from 'Component/Image';\nimport ProductGalleryBaseImage from 'Component/ProductGalleryBaseImage';\nimport ProductGalleryThumbnailImage from 'Component/ProductGalleryThumbnailImage';\nimport Slider from 'Component/Slider';\nimport VideoPopup from 'Component/VideoPopup';\nimport VideoThumbnail from 'Component/VideoThumbnail';\nimport { LocationType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport {\n    GALLERY_LENGTH_BEFORE_COLLAPSE, IMAGE_TYPE, MAX_ZOOM_SCALE, PLACEHOLDER_TYPE, VIDEO_TYPE\n} from './ProductGallery.config';\n\nimport './ProductGallery.style';\n\n/**\n * Product gallery\n * @class ProductGallery\n * @namespace Component/ProductGallery/Component\n */\nexport class ProductGallery extends PureComponent {\n    static propTypes = {\n        gallery: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.oneOfType([\n                    PropTypes.number,\n                    PropTypes.string\n                ]),\n                image: PropTypes.string,\n                isPlaceholder: PropTypes.bool,\n                alt: PropTypes.string,\n                type: PropTypes.string\n            })\n        ).isRequired,\n        productId: PropTypes.number,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        activeImage: PropTypes.number.isRequired,\n        onActiveImageChange: PropTypes.func.isRequired,\n        handleZoomChange: PropTypes.func.isRequired,\n        registerSharedElementDestination: PropTypes.func.isRequired,\n        disableZoom: PropTypes.func.isRequired,\n        location: LocationType.isRequired\n    };\n\n    static defaultProps = {\n        productId: 0\n    };\n\n    maxScale = MAX_ZOOM_SCALE;\n\n    imageRef = createRef();\n\n    sliderRef = createRef();\n\n    state = {\n        scrollEnabled: true\n    };\n\n    __construct(props, context) {\n        super.__construct(props, context);\n        this.renderSlide = this.renderSlide.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateSharedDestinationElement();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { productId, location: { pathname } } = this.props;\n        const { productId: prevProductId, location: { pathname: prevPathname } } = prevProps;\n\n        if (productId !== prevProductId) {\n            this.updateSharedDestinationElement();\n        }\n\n        if (this.sliderRef && pathname !== prevPathname) {\n            CSS.setVariable(\n                this.sliderRef.current.draggableRef,\n                'animation-speed',\n                0\n            );\n        }\n    }\n\n    updateSharedDestinationElement() {\n        const { registerSharedElementDestination } = this.props;\n        registerSharedElementDestination(this.imageRef);\n    }\n\n    renderAdditionalPicture = (media, index = 0) => {\n        const { onActiveImageChange } = this.props;\n\n        return (\n            <ProductGalleryThumbnailImage\n              key={ index }\n              media={ media }\n              index={ index }\n              onActiveImageChange={ onActiveImageChange }\n            />\n        );\n    };\n\n    /**\n     * Renders a video thumbnail which opens popup player on click/tap\n     * @param media\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderVideo(media, index) {\n        return (\n            <VideoThumbnail\n              key={ index }\n              media={ media }\n            />\n        );\n    }\n\n    renderPlaceholder(index) {\n        return (\n            <Image\n              key={ index }\n              ratio=\"custom\"\n              mix={ {\n                  block: 'ProductGallery',\n                  elem: 'SliderImage',\n                  mods: { isPlaceholder: true }\n              } }\n              isPlaceholder\n            />\n        );\n    }\n\n    stopScrolling() {\n        this.setState({ scrollEnabled: false });\n        this.timeout = setTimeout(() => {\n            this.setState({ scrollEnabled: true });\n            this.timeout = null;\n\n            // 20 ms is time give to scroll down, usually that is enough\n            // eslint-disable-next-line no-magic-numbers\n        }, 20);\n    }\n\n    onWheel = (zoomState) => {\n        const { scale } = zoomState;\n\n        if (this.timeout) {\n            return;\n        }\n\n        if (scale === 1 || scale === MAX_ZOOM_SCALE) {\n            this.stopScrolling();\n        }\n    };\n\n    /**\n     * Renders a product image to be displayed in the gallery\n     * @param mediaData\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderImage(mediaData, index) {\n        const { isZoomEnabled, handleZoomChange, disableZoom } = this.props;\n        const { scrollEnabled } = this.state;\n\n        return (\n            <TransformWrapper\n              key={ index }\n              onZoomChange={ handleZoomChange }\n              onWheelStart={ this.onWheelStart }\n              onWheel={ this.onWheel }\n              wheel={ { limitsOnWheel: true, disabled: !scrollEnabled } }\n            //   doubleClick={ { mode: 'reset' } }\n              pan={ {\n                  disabled: !isZoomEnabled,\n                  limitToWrapperBounds: true,\n                  velocity: false\n              } }\n              options={ {\n                  limitToBounds: true,\n                  minScale: 1\n              } }\n            >\n                { ({\n                    scale,\n                    previousScale,\n                    resetTransform,\n                    setTransform\n                }) => {\n                    if (scale === 1 && previousScale !== 1) {\n                        resetTransform();\n                    }\n\n                    return (\n                        <ProductGalleryBaseImage\n                          setTransform={ setTransform }\n                          index={ index }\n                          mediaData={ mediaData }\n                          scale={ scale }\n                          previousScale={ previousScale }\n                          disableZoom={ disableZoom }\n                          isZoomEnabled={ isZoomEnabled }\n                        />\n                    );\n                } }\n            </TransformWrapper>\n        );\n    }\n\n    /**\n     * Checks for the type of the slide and renders it accordingly\n     * @param media\n     * @param index\n     * @returns {null|*}\n     */\n    renderSlide(media, index) {\n        const { media_type } = media;\n\n        switch (media_type) {\n        case IMAGE_TYPE:\n            return this.renderImage(media, index);\n        case VIDEO_TYPE:\n            return this.renderVideo(media, index);\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder(index);\n        default:\n            return null;\n        }\n    }\n\n    renderAdditionalPictures() {\n        const { gallery } = this.props;\n\n        if (gallery.length === 1) {\n            return <div block=\"ProductGallery\" elem=\"Additional\" />;\n        }\n\n        return (\n            <div block=\"ProductGallery\" elem=\"Additional\">\n                { gallery.slice(0, GALLERY_LENGTH_BEFORE_COLLAPSE).map(this.renderAdditionalPicture) }\n            </div>\n        );\n    }\n\n    renderGalleryNotice() {\n        return (\n            <p block=\"ProductGallery\" elem=\"Notice\">\n                { __('Scroll over image to zoom in') }\n            </p>\n        );\n    }\n\n    renderSlider() {\n        const {\n            gallery,\n            activeImage,\n            isZoomEnabled,\n            onActiveImageChange\n        } = this.props;\n\n        return (\n            <div ref={ this.imageRef }>\n                <Slider\n                  ref={ this.sliderRef }\n                  mix={ { block: 'ProductGallery', elem: 'Slider' } }\n                  showCrumbs\n                  activeImage={ activeImage }\n                  onActiveImageChange={ onActiveImageChange }\n                  isInteractionDisabled={ isZoomEnabled }\n                >\n                    { gallery.map(this.renderSlide) }\n                </Slider>\n                { this.renderGalleryNotice() }\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"ProductGallery\">\n                { this.renderAdditionalPictures() }\n                { this.renderSlider() }\n                <VideoPopup />\n            </div>\n        );\n    }\n}\n\nexport default withRouter(ProductGallery);\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const GALLERY_LENGTH_BEFORE_COLLAPSE = 4;\nexport const MAX_ZOOM_SCALE = 8;\n\nexport const IMAGE_TYPE = 'image';\nexport const VIDEO_TYPE = 'external-video';\nexport const PLACEHOLDER_TYPE = 'placeholder';\n\nexport const THUMBNAIL_KEY = 'small_image';\nexport const AMOUNT_OF_PLACEHOLDERS = 0;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { Subscribe } from 'unstated';\n\nimport SharedTransitionContainer from 'Component/SharedTransition/SharedTransition.unstated';\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductGallery from './ProductGallery.component';\nimport { AMOUNT_OF_PLACEHOLDERS, IMAGE_TYPE, THUMBNAIL_KEY } from './ProductGallery.config';\n\n/** @namespace Component/ProductGallery/Container */\nexport class ProductGalleryContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool\n    };\n\n    static defaultProps = {\n        areDetailsLoaded: false\n    };\n\n    containerFunctions = {\n        onActiveImageChange: this.onActiveImageChange.bind(this),\n        handleZoomChange: this.handleZoomChange.bind(this),\n        disableZoom: this.disableZoom.bind(this)\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { product: { id } } = props;\n\n        this.state = {\n            activeImage: 0,\n            isZoomEnabled: false,\n            prevProdId: id\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const { product: { id } } = props;\n        const { prevProdId } = state;\n        if (prevProdId === id) {\n            return null;\n        }\n\n        return { prevProdId: id, activeImage: 0 };\n    }\n\n    onActiveImageChange(activeImage) {\n        this.setState({\n            activeImage,\n            isZoomEnabled: false\n        });\n    }\n\n    getGalleryPictures() {\n        const {\n            areDetailsLoaded,\n            product: {\n                media_gallery_entries: mediaGallery = [],\n                [THUMBNAIL_KEY]: { url } = {},\n                name\n            }\n        } = this.props;\n\n        if (mediaGallery.length) {\n            return Object.values(mediaGallery.reduce((acc, srcMedia) => {\n                const {\n                    types,\n                    position,\n                    disabled\n                } = srcMedia;\n\n                const canBeShown = !disabled;\n                if (!canBeShown) {\n                    return acc;\n                }\n\n                const isThumbnail = types.includes(THUMBNAIL_KEY);\n                const key = isThumbnail ? 0 : position + 1;\n\n                return {\n                    ...acc,\n                    [key]: srcMedia\n                };\n            }, {}));\n        }\n\n        if (!url) {\n            return Array(AMOUNT_OF_PLACEHOLDERS + 1).fill({ media_type: 'placeholder' });\n        }\n\n        const placeholders = !areDetailsLoaded\n            ? Array(AMOUNT_OF_PLACEHOLDERS).fill({ media_type: 'placeholder' }) : [];\n\n        return [\n            {\n                thumbnail: { url },\n                base: { url },\n                id: THUMBNAIL_KEY,\n                label: name,\n                media_type: IMAGE_TYPE\n            },\n            ...placeholders\n        ];\n    }\n\n    containerProps = () => {\n        const { activeImage, isZoomEnabled } = this.state;\n        const { product: { id } } = this.props;\n\n        return {\n            gallery: this.getGalleryPictures(),\n            productName: this._getProductName(),\n            activeImage,\n            isZoomEnabled,\n            productId: id\n        };\n    };\n\n    /**\n     * Returns the name of the product this gallery if for\n     * @private\n     */\n    _getProductName() {\n        const { product: { name } } = this.props;\n        return name;\n    }\n\n    disableZoom() {\n        document.documentElement.classList.remove('overscrollPrevented');\n        this.setState({ isZoomEnabled: false });\n    }\n\n    handleZoomChange(args) {\n        const { isZoomEnabled } = this.state;\n\n        if (args.scale !== 1) {\n            if (isZoomEnabled) {\n                return;\n            }\n            document.documentElement.classList.add('overscrollPrevented');\n            this.setState({ isZoomEnabled: true });\n        }\n    }\n\n    render() {\n        return (\n            <Subscribe to={ [SharedTransitionContainer] }>\n                { ({ registerSharedElementDestination }) => (\n                    <ProductGallery\n                      registerSharedElementDestination={ registerSharedElementDestination }\n                      { ...this.containerProps() }\n                      { ...this.containerFunctions }\n                    />\n                ) }\n            </Subscribe>\n        );\n    }\n}\n\nexport default ProductGalleryContainer;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110431\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductGallery.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { TransformComponent } from 'react-zoom-pan-pinch';\n\nimport Image from 'Component/Image';\n\n/** @namespace Component/ProductGalleryBaseImage/Component */\nexport class ProductGalleryBaseImage extends PureComponent {\n    static propTypes = {\n        src: PropTypes.string.isRequired,\n        alt: PropTypes.string.isRequired\n    };\n\n    render() {\n        const { src, alt } = this.props;\n\n        return (\n            <TransformComponent>\n                <Image\n                  src={ src }\n                  ratio=\"custom\"\n                  mix={ {\n                      block: 'ProductGallery',\n                      elem: 'SliderImage',\n                      mods: { isPlaceholder: !src }\n                  } }\n                  isPlaceholder={ !src }\n                  alt={ alt }\n                />\n                <img\n                  style={ { display: 'none' } }\n                  alt={ alt }\n                  src={ src }\n                  itemProp=\"image\"\n                />\n            </TransformComponent>\n        );\n    }\n}\n\nexport default ProductGalleryBaseImage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport const TRANSFORMATION_DELAY = 0;\nexport const TRANSFORMATION_SPEED = 0;\nexport const INITIAL_SCALE = 1;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport { LocationType } from 'Type/Common';\nimport media, { PRODUCT_MEDIA } from 'Util/Media/Media';\n\nimport ProductGallery from './ProductGalleryBaseImage.component';\nimport { INITIAL_SCALE, TRANSFORMATION_DELAY, TRANSFORMATION_SPEED } from './ProductGalleryBaseImage.config';\n\n/** @namespace Component/ProductGalleryBaseImage/Container */\nexport class ProductGalleryBaseImageContainer extends Component {\n    static propTypes = {\n        disableZoom: PropTypes.func.isRequired,\n        scale: PropTypes.number.isRequired,\n        previousScale: PropTypes.number.isRequired,\n        index: PropTypes.number.isRequired,\n        mediaData: PropTypes.shape({\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            label: PropTypes.string,\n            file: PropTypes.string,\n            base: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        setTransform: PropTypes.func.isRequired,\n        location: LocationType.isRequired\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const { scale, mediaData: { id } } = this.props;\n        const { scale: nextScale, mediaData: { id: nextId } } = nextProps;\n\n        if (scale !== nextScale || id !== nextId) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            scale,\n            previousScale,\n            disableZoom,\n            location: { pathname },\n            setTransform\n        } = this.props;\n        const { location: { pathname: prevPathname } } = prevProps;\n\n        if (pathname !== prevPathname && scale !== INITIAL_SCALE) {\n            setTimeout(\n                () => setTransform(null, null, INITIAL_SCALE, TRANSFORMATION_SPEED),\n                TRANSFORMATION_DELAY\n            );\n        }\n\n        if (scale === 1 && previousScale !== 1) {\n            disableZoom();\n        }\n    }\n\n    containerProps = () => ({\n        alt: this._getAlt(),\n        src: this._getSrc()\n    });\n\n    _getAlt() {\n        const { mediaData: { label } = {} } = this.props;\n        return label || '';\n    }\n\n    _getSrc() {\n        const {\n            mediaData: { file, base: { url: baseUrl } = {} },\n            isZoomEnabled\n        } = this.props;\n\n        if (!isZoomEnabled) {\n            return baseUrl || media(file, PRODUCT_MEDIA);\n        }\n\n        return file ? media(file, PRODUCT_MEDIA) : baseUrl;\n    }\n\n    render() {\n        return (\n            <ProductGallery\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    ProductGalleryBaseImageContainer\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './ProductGalleryBaseImage.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image';\nimport {\n    IMAGE_TYPE, PLACEHOLDER_TYPE, THUMBNAIL_KEY, VIDEO_TYPE\n} from 'Component/ProductGallery/ProductGallery.config';\nimport media, { PRODUCT_MEDIA } from 'Util/Media';\n\nimport './ProductGalleryThumbnailImage.style';\n\n/** @namespace Component/ProductGalleryThumbnailImage/Component */\nexport class ProductGalleryThumbnailImage extends PureComponent {\n    static propTypes = {\n        media: PropTypes.shape({\n            label: PropTypes.string,\n            file: PropTypes.string,\n            media_type: PropTypes.string,\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            thumbnail: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired,\n        index: PropTypes.number.isRequired,\n        onActiveImageChange: PropTypes.func.isRequired\n    };\n\n    onActiveImageChange = () => {\n        const { index, onActiveImageChange } = this.props;\n        onActiveImageChange(index);\n    };\n\n    renderMedia() {\n        const { media: { media_type } } = this.props;\n\n        switch (media_type) {\n        case VIDEO_TYPE:\n            return this.renderVideo();\n        case IMAGE_TYPE:\n            return this.renderImage();\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder();\n        default:\n            return null;\n        }\n    }\n\n    renderPlaceholder() {\n        return (\n            <Image\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n              isPlaceholder\n            />\n        );\n    }\n\n    renderVideo() {\n        const {\n            media: {\n                thumbnail: { url },\n                label\n            }\n        } = this.props;\n\n        return (\n            <Image\n              ratio=\"custom\"\n              src={ url }\n              alt={ label }\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    renderImage() {\n        const {\n            media: {\n                label: alt,\n                file,\n                thumbnail: { url: thumbnailUrl } = {},\n                id\n            }\n        } = this.props;\n\n        if (id === THUMBNAIL_KEY) {\n            return this.renderPlaceholder();\n        }\n\n        const src = thumbnailUrl || media(file, PRODUCT_MEDIA);\n\n        return (\n            <Image\n              src={ src }\n              alt={ alt }\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    render() {\n        return (\n            <button\n              block=\"ProductGalleryThumbnailImage\"\n              onClick={ this.onActiveImageChange }\n            >\n                { this.renderMedia() }\n            </button>\n        );\n    }\n}\n\nexport default ProductGalleryThumbnailImage;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110860\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductGalleryThumbnailImage.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Fragment, PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Html from 'Component/Html';\nimport ProductAttributeValue from 'Component/ProductAttributeValue';\nimport { AttributeType, ProductType } from 'Type/ProductList';\n\nimport './ProductInformation.style';\n\n/** @namespace Component/ProductInformation/Component */\nexport class ProductInformation extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        attributesWithValues: AttributeType.isRequired\n    };\n\n    renderAttribute = ([attributeLabel, valueLabel]) => (\n        <Fragment key={ attributeLabel }>\n            <dt block=\"ProductInformation\" elem=\"AttributeLabel\">\n                { attributeLabel }\n            </dt>\n            <dd block=\"ProductInformation\" elem=\"ValueLabel\">\n                <ProductAttributeValue\n                  key={ attributeLabel }\n                  attribute={ valueLabel }\n                  isFormattedAsText\n                />\n            </dd>\n        </Fragment>\n    );\n\n    renderAttributes() {\n        const { attributesWithValues } = this.props;\n\n        if (!Object.keys(attributesWithValues).length) {\n            return null;\n        }\n\n        return (\n            <dl block=\"ProductInformation\" elem=\"Attributes\">\n                { Object.entries(attributesWithValues).map(this.renderAttribute) }\n            </dl>\n        );\n    }\n\n    renderDescription() {\n        const { product: { description: { html } = {} } } = this.props;\n\n        if (!html) {\n            return null;\n        }\n\n        return (\n            <div>\n                <Html content={ html } />\n            </div>\n        );\n    }\n\n    renderContent() {\n        const { areDetailsLoaded } = this.props;\n        const heading = areDetailsLoaded ? __('Product information') : '';\n\n        return (\n            <ExpandableContent\n              // show placeholder if the details are not loaded\n              heading={ heading }\n              mix={ { block: 'ProductInformation', elem: 'Content' } }\n            >\n                { this.renderDescription() }\n                { this.renderAttributes() }\n            </ExpandableContent>\n        );\n    }\n\n    render() {\n        const {\n            areDetailsLoaded,\n            product: {\n                description: { html } = {}\n            }\n        } = this.props;\n\n        if (!html && areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              label=\"Product information\"\n              mix={ { block: 'ProductInformation' } }\n              wrapperMix={ { block: 'ProductInformation', elem: 'Wrapper' } }\n            >\n                { this.renderContent() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductInformation;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductInformation from './ProductInformation.component';\n\n/** @namespace Component/ProductInformation/Container */\nexport class ProductInformationContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired\n    };\n\n    containerProps = () => ({\n        attributesWithValues: this._getAttributesWithValues()\n    });\n\n    _getAttributesWithValues() {\n        const { product: { attributes = {}, parameters = {} } } = this.props;\n\n        const allAttribsWithValues = Object.entries(attributes).reduce((acc, [key, val]) => {\n            const { attribute_label, attribute_value } = val;\n            if (attribute_value) {\n                return { ...acc, [attribute_label]: val };\n            }\n\n            const valueIndexFromParameter = parameters[key];\n            if (valueIndexFromParameter) {\n                return { ...acc, [attribute_label]: { ...val, attribute_value: valueIndexFromParameter } };\n            }\n\n            return acc;\n        }, {});\n\n        return allAttribsWithValues;\n    }\n\n    render() {\n        return (\n            <ProductInformation\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductInformationContainer;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110402\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductInformation.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Form from 'Component/Form';\nimport Loader from 'Component/Loader';\nimport ReviewStar from 'Component/ReviewStar';\nimport { RatingItemsType } from 'Type/Rating';\n\nimport './ProductReviewForm.style';\n\n/**\n * ProductReviewForm\n * @class ProductReviewForm\n * @namespace Component/ProductReviewForm/Component\n */\nexport class ProductReviewForm extends PureComponent {\n    static propTypes = {\n        reviewRatings: RatingItemsType.isRequired,\n        isLoading: PropTypes.bool.isRequired,\n        onReviewSubmitAttempt: PropTypes.func.isRequired,\n        onReviewSubmitSuccess: PropTypes.func.isRequired,\n        onReviewError: PropTypes.func.isRequired,\n        onStarRatingClick: PropTypes.func.isRequired,\n        handleNicknameChange: PropTypes.func.isRequired,\n        handleSummaryChange: PropTypes.func.isRequired,\n        handleDetailChange: PropTypes.func.isRequired,\n        ratingData: PropTypes.objectOf(PropTypes.number).isRequired,\n        reviewData: PropTypes.shape({\n            nickname: PropTypes.string,\n            summary: PropTypes.string,\n            detail: PropTypes.string\n        }).isRequired\n    };\n\n    ratingTitleMap = {\n        1: __('Awful'),\n        2: __('Bad'),\n        3: __('Average'),\n        4: __('Good'),\n        5: __('Awesome')\n    };\n\n    renderReviewStar(options, rating_id) {\n        const { ratingData, onStarRatingClick } = this.props;\n        const { option_id, value } = options;\n        const isChecked = !!ratingData[rating_id] && ratingData[rating_id] === option_id;\n\n        return (\n            <ReviewStar\n              key={ option_id }\n              name={ rating_id }\n              value={ value }\n              title={ this.ratingTitleMap[value] }\n              isChecked={ isChecked }\n              option_id={ option_id }\n              rating_id={ rating_id }\n              onStarRatingClick={ onStarRatingClick }\n            />\n        );\n    }\n\n    renderReviewRating() {\n        const { reviewRatings } = this.props;\n\n        return reviewRatings.map((rating) => {\n            const { rating_id, rating_code, rating_options } = rating;\n\n            return (\n                <fieldset block=\"ProductReviewForm\" elem=\"Rating\" key={ rating_id }>\n                    <legend block=\"ProductReviewForm\" elem=\"Legend\">\n                        { rating_code }\n                    </legend>\n                    { rating_options\n                        .sort(({ value }, { value: nextValue }) => nextValue - value)\n                        .map((option) => this.renderReviewStar(option, rating_id)) }\n                </fieldset>\n            );\n        });\n    }\n\n    renderButton() {\n        return (\n            <button\n              block=\"ProductReviewForm\"\n              elem=\"Button\"\n              type=\"submit\"\n              mix={ { block: 'Button' } }\n            >\n                { __('Submit Review') }\n            </button>\n        );\n    }\n\n    renderReviewFormContent() {\n        const {\n            handleNicknameChange,\n            handleSummaryChange,\n            handleDetailChange,\n            reviewData\n        } = this.props;\n\n        const {\n            nickname = '',\n            summary = '',\n            detail = ''\n        } = reviewData;\n\n        return (\n            <div\n              block=\"ProductReviewForm\"\n              elem=\"Wrapper\"\n            >\n                <div>\n                    { this.renderReviewRating() }\n                </div>\n                <div\n                  block=\"ProductReviewForm\"\n                  elem=\"Content\"\n                >\n                    <Field\n                      type=\"text\"\n                      label={ __('Nickname') }\n                      id=\"nickname\"\n                      name=\"nickname\"\n                      validation={ ['notEmpty'] }\n                      value={ nickname }\n                      onChange={ handleNicknameChange }\n                    />\n                    <Field\n                      type=\"text\"\n                      label={ __('Summary') }\n                      id=\"title\"\n                      name=\"title\"\n                      validation={ ['notEmpty'] }\n                      value={ summary }\n                      onChange={ handleSummaryChange }\n                    />\n                    <Field\n                      type=\"textarea\"\n                      label={ __('Review') }\n                      id=\"detail\"\n                      name=\"detail\"\n                      validation={ ['notEmpty'] }\n                      value={ detail }\n                      onChange={ handleDetailChange }\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            isLoading,\n            onReviewSubmitAttempt,\n            onReviewSubmitSuccess,\n            onReviewError\n        } = this.props;\n\n        return (\n            <Form\n              key=\"product-review\"\n              mix={ { block: 'ProductReviewForm' } }\n              onSubmit={ onReviewSubmitAttempt }\n              onSubmitSuccess={ onReviewSubmitSuccess }\n              onSubmitError={ onReviewError }\n            >\n                <Loader isLoading={ isLoading } />\n                { this.renderReviewFormContent() }\n                { this.renderButton() }\n            </Form>\n        );\n    }\n}\n\nexport default ProductReviewForm;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { hideActiveOverlay } from 'Store/Overlay/Overlay.action';\nimport { customerType } from 'Type/Account';\nimport { ProductType } from 'Type/ProductList';\nimport { RatingItemsType } from 'Type/Rating';\n\nimport ProductReviewForm from './ProductReviewForm.component';\n\nexport const ReviewDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Review/Review.dispatcher'\n);\n\n/** @namespace Component/ProductReviewForm/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    customer: state.MyAccountReducer.customer,\n    isSignedIn: state.MyAccountReducer.isSignedIn,\n    reviewRatings: state.ConfigReducer.reviewRatings\n});\n\n/** @namespace Component/ProductReviewForm/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    addReview: (options) => ReviewDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.submitProductReview(dispatch, options)\n    ),\n    showNotification: (type, message) => dispatch(showNotification(type, message)),\n    hideActiveOverlay: () => dispatch(hideActiveOverlay()),\n    goToPreviousHeaderState: () => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE))\n});\n\n/** @namespace Component/ProductReviewForm/Container */\nexport class ProductReviewFormContainer extends PureComponent {\n    static propTypes = {\n        showNotification: PropTypes.func.isRequired,\n        goToPreviousHeaderState: PropTypes.func.isRequired,\n        hideActiveOverlay: PropTypes.func.isRequired,\n        reviewRatings: RatingItemsType.isRequired,\n        product: ProductType.isRequired,\n        addReview: PropTypes.func.isRequired,\n        customer: customerType.isRequired\n    };\n\n    containerFunctions = ({\n        onReviewSubmitAttempt: this._onReviewSubmitAttempt.bind(this),\n        onReviewSubmitSuccess: this._onReviewSubmitSuccess.bind(this),\n        onStarRatingClick: this._onStarRatingClick.bind(this),\n        handleNicknameChange: this._handleFieldChange.bind(this, 'nickname'),\n        handleSummaryChange: this._handleFieldChange.bind(this, 'summary'),\n        handleDetailChange: this._handleFieldChange.bind(this, 'detail'),\n        onReviewError: this._onReviewError.bind(this)\n    });\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { customer: { firstname: nickname } } = this.props;\n        const reviewData = { nickname };\n\n        this.state = {\n            isLoading: false,\n            ratingData: {},\n            reviewData\n        };\n    }\n\n    _onReviewError() {\n        this.setState({ isLoading: false });\n    }\n\n    _onReviewSubmitAttempt(_, invalidFields) {\n        const { showNotification, reviewRatings } = this.props;\n        const { ratingData } = this.state;\n\n        const reviewsAreNotValid = invalidFields\n            || !reviewRatings.every(({ rating_id }) => ratingData[rating_id]);\n\n        if (reviewsAreNotValid) {\n            showNotification('info', 'Incorrect data! Please check review fields.');\n        }\n\n        this.setState({ isLoading: !reviewsAreNotValid });\n    }\n\n    _onReviewSubmitSuccess(fields) {\n        const {\n            product,\n            addReview,\n            hideActiveOverlay,\n            goToPreviousHeaderState\n        } = this.props;\n\n        const { ratingData: rating_data, isLoading } = this.state;\n\n        const {\n            nickname,\n            title,\n            detail\n        } = fields;\n\n        const { sku: product_sku } = product;\n\n        if (Object.keys(rating_data).length && isLoading) {\n            addReview({\n                nickname,\n                title,\n                detail,\n                product_sku,\n                rating_data\n            }).then(\n                /** @namespace Component/ProductReviewForm/Container/addReviewThen */\n                (success) => {\n                    if (success) {\n                        this.setState({\n                            ratingData: {},\n                            reviewData: {},\n                            isLoading: false\n                        });\n\n                        goToPreviousHeaderState();\n                        hideActiveOverlay();\n\n                        return;\n                    }\n\n                    this.setState({ isLoading: false });\n                }\n            );\n        }\n    }\n\n    _onStarRatingClick(rating_id, option_id) {\n        this.setState(({ ratingData }) => ({\n            ratingData: { ...ratingData, [rating_id]: option_id }\n        }));\n    }\n\n    _handleFieldChange(fieldName, value) {\n        this.setState(({ reviewData }) => ({\n            reviewData: { ...reviewData, [fieldName]: value }\n        }));\n    }\n\n    render() {\n        return (\n            <ProductReviewForm\n              { ...this.props }\n              { ...this.containerFunctions }\n              { ...this.state }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewFormContainer);\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110693\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewForm.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductReviewList.style';\n\n/**\n * @class ProductReviewList\n * @namespace Component/ProductReviewList/Component\n */\nexport class ProductReviewList extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired\n    };\n\n    getFormattedDate(created_at) {\n        // Safari bug\n        const fixedDate = created_at.replace(/-/g, '/');\n        const date = new Date(fixedDate);\n        return date ? date.toDateString() : created_at;\n    }\n\n    renderReviewListItemRating = (ratingVoteItem) => {\n        const {\n            vote_id,\n            rating_code,\n            percent\n        } = ratingVoteItem;\n\n        return (\n            <div\n              key={ vote_id }\n              block=\"ProductReviewList\"\n              elem=\"RatingSummaryItem\"\n              itemType=\"http://schema.org/Rating\"\n              itemScope\n              itemProp=\"reviewRating\"\n            >\n                <p itemProp=\"name\">{ rating_code }</p>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <ProductReviewRating\n                  summary={ percent }\n                  code={ rating_code }\n                />\n            </div>\n        );\n    };\n\n    renderAuthor(reviewItem) {\n        const { nickname, created_at } = reviewItem;\n\n        return (\n            <p block=\"ProductReviewList\" elem=\"ReviewAuthor\">\n                { __('Written by ') }\n                <strong itemProp=\"author\">{ nickname }</strong>\n                <meta itemProp=\"datePublished\" content={ this.getFormattedDate(created_at) } />\n                { __(', written at %s', this.getFormattedDate(created_at)) }\n            </p>\n        );\n    }\n\n    renderReviewListItem = (reviewItem) => {\n        const {\n            title,\n            detail,\n            review_id,\n            rating_votes\n        } = reviewItem;\n\n        return (\n            <li\n              key={ review_id }\n              block=\"ProductReviewList\"\n              elem=\"Item\"\n              itemType=\"http://schema.org/Review\"\n              itemProp=\"review\"\n              itemScope\n            >\n                <h4 block=\"ProductReviewList\" elem=\"ReviewTitle\" itemProp=\"name\">\n                    { title }\n                </h4>\n                <div block=\"ProductReviewList\" elem=\"RatingSummary\">\n                    { rating_votes.map(this.renderReviewListItemRating) }\n                </div>\n                <div block=\"ProductReviewList\" elem=\"ReviewContent\">\n                    <p block=\"ProductReviewList\" elem=\"ReviewDetails\" itemProp=\"reviewBody\">\n                        { detail }\n                    </p>\n                    { this.renderAuthor(reviewItem) }\n                </div>\n            </li>\n        );\n    };\n\n    renderReviews() {\n        const { product: { reviews } } = this.props;\n        return reviews.map(this.renderReviewListItem);\n    }\n\n    render() {\n        const { product } = this.props;\n        const hasReviews = product.reviews && Object.keys(product.reviews).length > 0;\n        if (!hasReviews) {\n            return null;\n        }\n\n        return (\n            <ul block=\"ProductReviewList\">\n                { this.renderReviews() }\n            </ul>\n        );\n    }\n}\n\nexport default ProductReviewList;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110622\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewList.component';\n","/* eslint-disable max-len */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Loader from 'Component/Loader';\nimport { ProductType } from 'Type/ProductList';\nimport { isSignedIn } from 'Util/Auth';\n\nimport './ProductWishlistButton.style';\n\n/** @namespace Component/ProductWishlistButton/Component */\nexport class ProductWishlistButton extends PureComponent {\n    static propTypes = {\n        isReady: PropTypes.bool,\n        isLoading: PropTypes.bool,\n        quantity: PropTypes.number,\n        isDisabled: PropTypes.bool,\n        isInWishlist: PropTypes.bool,\n        product: ProductType.isRequired,\n        addToWishlist: PropTypes.func.isRequired,\n        removeFromWishlist: PropTypes.func.isRequired,\n        mix: PropTypes.shape({ block: PropTypes.string, elem: PropTypes.string, mod: PropTypes.string })\n    };\n\n    static defaultProps = {\n        mix: {},\n        quantity: 1,\n        isReady: true,\n        isLoading: false,\n        isDisabled: false,\n        isInWishlist: false\n    };\n\n    getTitle = () => {\n        const { isInWishlist, isReady } = this.props;\n\n        if (!isSignedIn()) {\n            return __('Please sign in first!');\n        }\n\n        if (!isReady) {\n            return __('Please select variant first!');\n        }\n\n        if (isInWishlist) {\n            return __('Remove from Wishlist');\n        }\n\n        return __('Add to Wishlist');\n    };\n\n    onClick = () => {\n        const {\n            product,\n            quantity,\n            isInWishlist,\n            addToWishlist,\n            removeFromWishlist\n        } = this.props;\n\n        if (!isInWishlist) {\n            return addToWishlist(product, quantity);\n        }\n\n        return removeFromWishlist(product, quantity);\n    };\n\n    renderButton() {\n        const { isInWishlist, isDisabled, mix } = this.props;\n\n        return (\n            <button\n              block=\"ProductWishlistButton\"\n              elem=\"Button\"\n              mods={ { isInWishlist, isDisabled } }\n              mix={ { block: 'Button', mods: { isHollow: !isInWishlist }, mix } }\n              title={ this.getTitle() }\n              onClick={ this.onClick }\n            >\n                <div\n                  block=\"ProductWishlistButton\"\n                  elem=\"Heart\"\n                />\n            </button>\n        );\n    }\n\n    renderLoader() {\n        const { isLoading } = this.props;\n\n        return (\n            <Loader isLoading={ isLoading } />\n        );\n    }\n\n    renderContent() {\n        return (\n            <div block=\"ProductWishlistButton\">\n                { this.renderButton() }\n                { this.renderLoader() }\n            </div>\n        );\n    }\n\n    render() {\n        const { product: { id } = {} } = this.props;\n\n        if (id !== -1) {\n            return this.renderContent();\n        }\n\n        return null;\n    }\n}\n\nexport default ProductWishlistButton;\n","/* eslint-disable import/prefer-default-export */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const ERROR_CONFIGURABLE_NOT_PROVIDED = 'ERROR_CONFIGURABLE_NOT_PROVIDED';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { ProductType } from 'Type/ProductList';\nimport { isSignedIn } from 'Util/Auth';\nimport { getExtensionAttributes } from 'Util/Product';\n\nimport ProductWishlistButton from './ProductWishlistButton.component';\nimport { ERROR_CONFIGURABLE_NOT_PROVIDED } from './ProductWishlistButton.config';\n\nexport const WishlistDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Wishlist/Wishlist.dispatcher'\n);\n\n/** @namespace Component/ProductWishlistButton/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    productsInWishlist: state.WishlistReducer.productsInWishlist,\n    isLoading: state.WishlistReducer.isLoading\n});\n\n/** @namespace Component/ProductWishlistButton/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    addProductToWishlist: (wishlistItem) => WishlistDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.addItemToWishlist(dispatch, wishlistItem)\n    ),\n    removeProductFromWishlist: (options) => WishlistDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.removeItemFromWishlist(dispatch, options)\n    ),\n    showNotification: (type, message) => dispatch(showNotification(type, message))\n});\n\n/** @namespace Component/ProductWishlistButton/Container */\nexport class ProductWishlistButtonContainer extends PureComponent {\n    static propTypes = {\n        quantity: PropTypes.number,\n        product: ProductType.isRequired,\n        isLoading: PropTypes.bool.isRequired,\n        configurableVariantIndex: PropTypes.number,\n        showNotification: PropTypes.func.isRequired,\n        productsInWishlist: PropTypes.objectOf(ProductType).isRequired,\n        addProductToWishlist: PropTypes.func.isRequired,\n        onProductValidationError: PropTypes.func,\n        removeProductFromWishlist: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        quantity: 1,\n        onProductValidationError: () => {},\n        configurableVariantIndex: -2\n    };\n\n    containerProps = () => ({\n        isDisabled: this.isDisabled(),\n        isInWishlist: this.isInWishlist(),\n        isReady: this._getIsProductReady()\n    });\n\n    containerFunctions = () => ({\n        addToWishlist: this.toggleProductInWishlist.bind(this, true),\n        removeFromWishlist: this.toggleProductInWishlist.bind(this, false)\n    });\n\n    toggleProductInWishlist = (add = true) => {\n        const {\n            product: { sku, type_id },\n            quantity,\n            isLoading,\n            showNotification,\n            productsInWishlist,\n            addProductToWishlist,\n            onProductValidationError,\n            removeProductFromWishlist\n        } = this.props;\n\n        if (!isSignedIn()) {\n            return showNotification('info', __('You must login or register to add items to your wishlist.'));\n        }\n\n        if (isLoading) {\n            return null;\n        }\n\n        const product = this._getProductVariant();\n        if (product === ERROR_CONFIGURABLE_NOT_PROVIDED) {\n            onProductValidationError(type_id);\n            return showNotification('info', __('Please, select desirable option first!'));\n        }\n\n        const { sku: variantSku, product_option } = product;\n        if (add) {\n            return addProductToWishlist({ sku, product_option, quantity });\n        }\n\n        const { wishlist: { id: item_id } } = Object.values(productsInWishlist).find(\n            ({ wishlist: { sku } }) => sku === variantSku\n        );\n\n        return removeProductFromWishlist({ item_id, sku: variantSku });\n    };\n\n    isDisabled = () => {\n        const { isLoading } = this.props;\n        const product = this._getProductVariant();\n\n        if (product === ERROR_CONFIGURABLE_NOT_PROVIDED) {\n            return true;\n        }\n\n        return isLoading || !isSignedIn();\n    };\n\n    isInWishlist = () => {\n        const { productsInWishlist } = this.props;\n        const product = this._getProductVariant();\n\n        if (product === ERROR_CONFIGURABLE_NOT_PROVIDED) {\n            return false;\n        }\n\n        const { sku: productSku } = product;\n        return Object.values(productsInWishlist).findIndex(({ wishlist: { sku } }) => sku === productSku) >= 0;\n    };\n\n    _getIsProductReady() {\n        const { product: { type_id }, configurableVariantIndex } = this.props;\n\n        if (type_id === 'configurable' && configurableVariantIndex < 0) {\n            return false;\n        }\n\n        return true;\n    }\n\n    _getProductVariant() {\n        const {\n            product,\n            product: { type_id },\n            configurableVariantIndex\n        } = this.props;\n\n        if (type_id === 'configurable') {\n            if (configurableVariantIndex < 0) {\n                return ERROR_CONFIGURABLE_NOT_PROVIDED;\n            }\n\n            const extension_attributes = getExtensionAttributes({ ...product, configurableVariantIndex });\n            const variant = product.variants[configurableVariantIndex];\n\n            return { ...variant, product_option: { extension_attributes } };\n        }\n\n        return product;\n    }\n\n    render() {\n        return (\n            <ProductWishlistButton\n              { ...this.props }\n              { ...this.containerProps() }\n              { ...this.containerFunctions() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductWishlistButtonContainer);\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110751\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductWishlistButton.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './ReviewStar.style';\n\n/** @namespace Component/ReviewStar/Component */\nexport class ReviewStar extends PureComponent {\n    static propTypes = {\n        value: PropTypes.number.isRequired,\n        name: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        isChecked: PropTypes.bool.isRequired,\n        option_id: PropTypes.number.isRequired,\n        rating_id: PropTypes.number.isRequired,\n        onStarRatingClick: PropTypes.func.isRequired\n    };\n\n    onStarRatingClick = () => {\n        const {\n            rating_id,\n            option_id,\n            onStarRatingClick\n        } = this.props;\n\n        onStarRatingClick(rating_id, option_id);\n    };\n\n    render() {\n        const {\n            name,\n            value,\n            title,\n            isChecked,\n            rating_id,\n            option_id\n        } = this.props;\n\n        return (\n            <input\n              block=\"ReviewStar\"\n              type=\"radio\"\n              id={ option_id + rating_id }\n              name={ name }\n              value={ value }\n              title={ title }\n              checked={ isChecked }\n              onChange={ this.onStarRatingClick }\n            />\n        );\n    }\n}\n\nexport default ReviewStar;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110884\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ReviewStar.component';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport Popup from 'Component/Popup';\nimport { MediaItemType } from 'Type/ProductList';\nimport { makeCancelable } from 'Util/Promise';\n\nimport { VIDEO_POPUP_ID, VIMEO_FORMAT, YOUTUBE_FORMAT } from './VideoPopup.config';\n\nimport './VideoPopup.style';\n\n/**\n * A popup capable of displaying a video\n * @class VideoPopup\n * @namespace Component/VideoPopup/Component\n */\nexport class VideoPopup extends PureComponent {\n    static propTypes = {\n        payload: MediaItemType.isRequired\n    };\n\n    componentDidMount() {\n        this.loadVimeoLibrary();\n        this.loadYouTubeLibrary();\n\n        Promise.all([\n            this.vimeoPromise,\n            this.youTubePromise\n        ]).then(\n            /** @namespace Component/VideoPopup/Component/videoLibrariesThen */\n            () => this.forceUpdate()\n        );\n    }\n\n    componentWillUnmount() {\n        if (this.youTubePromise) {\n            this.youTubePromise.cancel();\n        }\n\n        if (this.vimeoPromise) {\n            this.vimeoPromise.cancel();\n        }\n    }\n\n    /**\n     * Renders a video provided by Vimeo\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderVimeoVideo(videoId) {\n        const Vimeo = this.vimeoComponent;\n\n        if (!Vimeo) {\n            return null;\n        }\n\n        return (\n            <Vimeo\n              videoId={ videoId }\n              autoplay\n            />\n        );\n    }\n\n    /**\n     * Renders a video provided by Youtube\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderYoutubeVideo(videoId) {\n        const YouTube = this.youTubeComponent;\n\n        if (!YouTube) {\n            return null;\n        }\n\n        return (\n            <YouTube\n              videoId={ videoId }\n              containerClassName=\"VideoPopup-YouTubeContainer\"\n              // eslint-disable-next-line react/forbid-component-props\n              className=\"VideoPopup-YouTube\"\n              opts={ { playerVars: { autoplay: 1 } } }\n            />\n        );\n    }\n\n    loadVimeoLibrary() {\n        this.vimeoPromise = makeCancelable(import('react-vimeo'));\n\n        this.vimeoPromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/vimeoPromisePromiseThen */\n            ({ default: vimeo }) => {\n                this.vimeoComponent = vimeo;\n            }\n        );\n    }\n\n    loadYouTubeLibrary() {\n        this.youTubePromise = makeCancelable(import('react-youtube'));\n\n        this.youTubePromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/youTubePromisePromiseThen */\n            ({ default: youTube }) => {\n                this.youTubeComponent = youTube;\n            }\n        );\n    }\n\n    /**\n     * Parses the video URL and renders the video accordingly\n     * @returns {null|*}\n     * @private\n     */\n    _renderVideoContent() {\n        const {\n            payload: {\n                media: {\n                    video_content: { video_url } = {}\n                } = {}\n            }\n        } = this.props;\n\n        if (!video_url) {\n            return null;\n        }\n\n        const [, vimeoId] = VIMEO_FORMAT.exec(video_url) || [];\n        if (vimeoId) {\n            return this._renderVimeoVideo(vimeoId);\n        }\n\n        const [, youtubeId] = YOUTUBE_FORMAT.exec(video_url);\n        if (youtubeId) {\n            return this._renderYoutubeVideo(youtubeId);\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <Popup id={ VIDEO_POPUP_ID } mix={ { block: 'VideoPopup' } }>\n                <div block=\"VideoPopup\" elem=\"VideoPlayer\">\n                    <div block=\"VideoPopup\" elem=\"PlayerContent\">\n                        { this._renderVideoContent() }\n                    </div>\n                </div>\n            </Popup>\n        );\n    }\n}\n\nexport default VideoPopup;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const VIDEO_POPUP_ID = 'VIDEO_POPUP_ID';\n\n/**\n * An expression that checks for vimeo URLs described in https://developer.vimeo.com/api/oembed/videos#table-1 and matches the video id\n * @type {RegExp}\n */\nexport const VIMEO_FORMAT = new RegExp('(?:https?//)?vimeo.com[\\\\w/]*/(\\\\d+)$');\nexport const YOUTUBE_FORMAT = new RegExp('(?:https?//)?www.youtube.com/watch\\\\?v=(\\\\w+)');\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\nimport VideoPopup from './VideoPopup.component';\nimport { VIDEO_POPUP_ID } from './VideoPopup.config';\n\n/** @namespace Component/VideoPopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    payload: state.PopupReducer.popupPayload[VIDEO_POPUP_ID] || {}\n});\n\n/** @namespace Component/VideoPopup/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoPopup);\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110772\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './VideoPopup.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image/Image.container';\nimport { MediaItemType } from 'Type/ProductList';\n\nimport './VideoThumbnail.style';\n\n/**\n * VideoThumbnail component\n * @class VideoThumbnail\n * @namespace Component/VideoThumbnail/Component/videoThumbnail\n */\nexport class VideoThumbnail extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        onPlayClick: PropTypes.func.isRequired\n    };\n\n    /**\n     * Renders an icon indicating that the video can be played\n     * @namespace Component/VideoThumbnail/Component\n */\n    renderPlayIcon() {\n        return (\n            <span block=\"VideoThumbnail\" elem=\"PlayIcon\">\n                { __('Play video') }\n            </span>\n        );\n    }\n\n    render() {\n        const {\n            media: {\n                thumbnail: { url },\n                video_content: { video_title }\n            },\n            onPlayClick\n        } = this.props;\n\n        return (\n            <div block=\"VideoThumbnail\">\n                <button\n                  block=\"VideoThumbnail\"\n                  elem=\"Button\"\n                  onClick={ onPlayClick }\n                  title={ __('Play video %s', video_title) }\n                >\n                    <Image\n                      src={ url }\n                      ratio=\"custom\"\n                      mix={ {\n                          block: 'VideoThumbnail',\n                          elem: 'Thumbnail',\n                          mods: { isPlaceholder: !url }\n                      } }\n                      isPlaceholder={ !url }\n                      alt={ video_title }\n                    />\n                    { this.renderPlayIcon() }\n                </button>\n            </div>\n        );\n    }\n}\n\nexport default VideoThumbnail;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { VIDEO_POPUP_ID } from 'Component/VideoPopup/VideoPopup.config';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { MediaItemType } from 'Type/ProductList';\n\nimport VideoThumbnail from './VideoThumbnail.component';\n\n/** @namespace Component/VideoThumbnail/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(VIDEO_POPUP_ID, payload))\n});\n\n/**\n * @class VideoThumbnailContainer\n * @namespace Component/VideoThumbnail/Container/videoThumbnailContainer\n */\nexport class VideoThumbnailContainer extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        showPopup: PropTypes.func.isRequired\n    };\n\n    containerFunctions = {\n        onPlayClick: this._onPlayClick.bind(this)\n    };\n\n    /**\n     * Handles events that occur when the user clicks or taps on a video thumbnail.\n     * Displays a popup with the corresponding video.\n     * @param event\n     * @private\n     */\n    _onPlayClick(event) {\n        const {\n            media,\n            media: {\n                video_content: {\n                    video_title\n                } = {}\n            } = {}, showPopup\n        } = this.props;\n\n        event.preventDefault();\n        showPopup({\n            media,\n            title: video_title\n        });\n    }\n\n    render() {\n        const { media } = this.props;\n\n        return (\n            <VideoThumbnail\n              media={ media }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/VideoThumbnail/Container/mapStateToProps * @namespace Component/VideoThumbnail/Container\n */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = (state) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoThumbnailContainer);\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110728\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './VideoThumbnail.container';\n","/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-ProductReviewListtheme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductActions from 'Component/ProductActions';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductGallery from 'Component/ProductGallery';\nimport ProductInformation from 'Component/ProductInformation';\nimport ProductLinks from 'Component/ProductLinks';\nimport ProductReviews from 'Component/ProductReviews';\nimport { RELATED, UPSELL } from 'Store/LinkedProducts/LinkedProducts.reducer';\nimport { DeviceType } from 'Type/Device';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductPage.style';\n\n/** @namespace Route/ProductPage/Component */\nexport class ProductPage extends PureComponent {\n    static propTypes = {\n        configurableVariantIndex: PropTypes.number.isRequired,\n        productOrVariant: ProductType.isRequired,\n        getLink: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        dataSource: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        device: DeviceType.isRequired\n    };\n\n    renderProductPageContent() {\n        const {\n            configurableVariantIndex,\n            parameters,\n            getLink,\n            dataSource,\n            updateConfigurableVariant,\n            productOrVariant,\n            areDetailsLoaded,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice,\n            selectedBundlePrice\n        } = this.props;\n\n        return (\n            <>\n                <ProductGallery\n                  product={ productOrVariant }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductActions\n                  getLink={ getLink }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  product={ dataSource }\n                  productOrVariant={ productOrVariant }\n                  parameters={ parameters }\n                  areDetailsLoaded={ areDetailsLoaded }\n                  configurableVariantIndex={ configurableVariantIndex }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                  selectedBundlePrice={ selectedBundlePrice }\n                />\n            </>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            dataSource: { options },\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return (\n            <ProductCustomizableOptions\n              options={ options || [] }\n              getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderAdditionalSections() {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <>\n                { this.renderCustomizableOptions() }\n                <ProductInformation\n                  product={ { ...dataSource, parameters } }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductReviews\n                  product={ dataSource }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductLinks\n                  linkType={ RELATED }\n                  title={ __('Recommended for you') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductLinks\n                  linkType={ UPSELL }\n                  title={ __('You might also like') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <main\n              block=\"ProductPage\"\n              aria-label=\"Product page\"\n              itemScope\n              itemType=\"http://schema.org/Product\"\n            >\n                <ContentWrapper\n                  wrapperMix={ { block: 'ProductPage', elem: 'Wrapper' } }\n                  label={ __('Main product details') }\n                >\n                    { this.renderProductPageContent() }\n                </ContentWrapper>\n                { this.renderAdditionalSections() }\n            </main>\n        );\n    }\n}\n\nexport default ProductPage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\nimport { PDP } from 'Component/Header/Header.config';\nimport { MENU_TAB } from 'Component/NavigationTabs/NavigationTabs.config';\nimport { LOADING_TIME } from 'Route/CategoryPage/CategoryPage.config';\nimport { changeNavigationState, goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { BOTTOM_NAVIGATION_TYPE, TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { setBigOfflineNotice } from 'Store/Offline/Offline.action';\nimport { HistoryType, LocationType, MatchType } from 'Type/Common';\nimport { ProductType } from 'Type/ProductList';\nimport { getVariantIndex } from 'Util/Product';\nimport { debounce } from 'Util/Request';\nimport {\n    convertQueryStringToKeyValuePairs,\n    objectToUri,\n    removeQueryParamWithoutHistory,\n    updateQueryParamWithoutHistory\n} from 'Util/Url';\n\nimport ProductPage from './ProductPage.component';\n\nexport const BreadcrumbsDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Breadcrumbs/Breadcrumbs.dispatcher'\n);\n\nexport const MetaDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Meta/Meta.dispatcher'\n);\n\nexport const ProductDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Product/Product.dispatcher'\n);\n\n/** @namespace Route/ProductPage/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isOffline: state.OfflineReducer.isOffline,\n    product: state.ProductReducer.product,\n    navigation: state.NavigationReducer[TOP_NAVIGATION_TYPE],\n    metaTitle: state.MetaReducer.title,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Route/ProductPage/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    changeHeaderState: (state) => dispatch(changeNavigationState(TOP_NAVIGATION_TYPE, state)),\n    changeNavigationState: (state) => dispatch(changeNavigationState(BOTTOM_NAVIGATION_TYPE, state)),\n    requestProduct: (options) => {\n        // TODO: check linked products, there might be issues :'(\n        ProductDispatcher.then(\n            ({ default: dispatcher }) => dispatcher.handleData(dispatch, options)\n        );\n    },\n    setBigOfflineNotice: (isBig) => dispatch(setBigOfflineNotice(isBig)),\n    updateBreadcrumbs: (breadcrumbs) => BreadcrumbsDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.updateWithProduct(breadcrumbs, dispatch)\n    ),\n    updateMetaFromProduct: (product) => MetaDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.updateWithProduct(product, dispatch)\n    ),\n    goToPreviousNavigationState: (state) => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE, state))\n});\n\n/** @namespace Route/ProductPage/Container */\nexport class ProductPageContainer extends PureComponent {\n    state = {\n        configurableVariantIndex: -1,\n        parameters: {},\n        productOptionsData: {},\n        selectedBundlePrice: 0,\n        currentProductSKU: ''\n    };\n\n    containerFunctions = {\n        updateConfigurableVariant: this.updateConfigurableVariant.bind(this),\n        getLink: this.getLink.bind(this),\n        getSelectedCustomizableOptions: this.getSelectedCustomizableOptions.bind(this),\n        setBundlePrice: this.setBundlePrice.bind(this)\n    };\n\n    static propTypes = {\n        location: LocationType,\n        changeHeaderState: PropTypes.func.isRequired,\n        setBigOfflineNotice: PropTypes.func.isRequired,\n        changeNavigationState: PropTypes.func.isRequired,\n        updateMetaFromProduct: PropTypes.func.isRequired,\n        updateBreadcrumbs: PropTypes.func.isRequired,\n        requestProduct: PropTypes.func.isRequired,\n        isOffline: PropTypes.bool.isRequired,\n        productSKU: PropTypes.string,\n        product: ProductType.isRequired,\n        history: HistoryType.isRequired,\n        match: MatchType.isRequired,\n        goToPreviousNavigationState: PropTypes.func.isRequired,\n        navigation: PropTypes.shape(PropTypes.shape).isRequired,\n        metaTitle: PropTypes.string\n    };\n\n    static defaultProps = {\n        location: { state: {} },\n        productSKU: '',\n        metaTitle: undefined\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const {\n            product: {\n                sku,\n                variants,\n                configurable_options\n            },\n            location: { search }\n        } = props;\n\n        const { currentProductSKU: prevSKU } = state;\n\n        const currentProductSKU = prevSKU === sku ? '' : prevSKU;\n\n        /**\n         * If the product we expect to load is loaded -\n         * reset expected SKU\n         */\n        if (!configurable_options && !variants) {\n            return {\n                currentProductSKU\n            };\n        }\n\n        const parameters = Object.entries(convertQueryStringToKeyValuePairs(search))\n            .reduce((acc, [key, value]) => {\n                if (key in configurable_options) {\n                    return { ...acc, [key]: value };\n                }\n\n                return acc;\n            }, {});\n\n        if (Object.keys(parameters).length !== Object.keys(configurable_options).length) {\n            return {\n                parameters,\n                currentProductSKU\n            };\n        }\n\n        const configurableVariantIndex = getVariantIndex(variants, parameters);\n\n        return {\n            parameters,\n            currentProductSKU,\n            configurableVariantIndex\n        };\n    }\n\n    componentDidMount() {\n        /**\n         * Always make sure the navigation switches into the MENU tab\n         * */\n        this.updateNavigationState();\n\n        /**\n         * Ensure transition PDP => homepage => PDP always having proper meta\n         */\n        this.updateMeta();\n\n        /**\n         * Make sure to update header state, the data-source will\n         * define the correct information to use for update\n         * (it can be a product, history state product or an empty object).\n         */\n        this.updateHeaderState();\n        this.updateBreadcrumbs();\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            isOffline,\n            productSKU,\n            product: {\n                sku,\n                options,\n                items\n            }\n        } = this.props;\n\n        const {\n            productSKU: prevProductSKU,\n            product: {\n                sku: prevSku,\n                options: prevOptions,\n                items: prevItems\n            }\n        } = prevProps;\n\n        const { sku: stateSKU } = history?.state?.state?.product || {};\n\n        if (isOffline) {\n            debounce(this.setOfflineNoticeSize, LOADING_TIME)();\n        }\n\n        /**\n         * We should also update product based data if, the URL\n         * rewrite SKU has changed to matching the product history SKU\n         * one. At this point there could be sufficient data for\n         * some updates (i.e. header state).\n         */\n        if (\n            productSKU !== prevProductSKU\n            && stateSKU === productSKU\n        ) {\n            this.updateHeaderState();\n        }\n\n        /**\n         * If the currently loaded category ID does not match the ID of\n         * category ID from URL rewrite, request category.\n         */\n        if (productSKU !== sku) {\n            this.requestProduct();\n        }\n\n        /**\n         * If product ID was changed => it is loaded => we need to\n         * update product specific information, i.e. breadcrumbs.\n         */\n        if (sku !== prevSku) {\n            this.updateBreadcrumbs();\n            this.updateHeaderState();\n            this.updateMeta();\n        }\n\n        /**\n         * LEGACY: needed to make sure required items are\n         * selected in the bundle product.\n         */\n        if (JSON.stringify(options) !== JSON.stringify(prevOptions)) {\n            this.getRequiredProductOptions(options);\n        }\n\n        /**\n         * LEGACY needed to make sure required options are\n         * selected in the customizable options product.\n         */\n        if (JSON.stringify(items) !== JSON.stringify(prevItems)) {\n            this.getRequiredProductOptions(items);\n        }\n    }\n\n    setOfflineNoticeSize = () => {\n        const { setBigOfflineNotice, productSKU } = this.props;\n        const { sku } = this.getDataSource();\n\n        /**\n         * If there is any information about the product, in example,\n         * we know it's URL-rewrite SKU is matching the product SKU -\n         * show the small offline notice, else - show larger one.\n         */\n        if (sku !== productSKU) {\n            setBigOfflineNotice(true);\n        } else {\n            setBigOfflineNotice(false);\n        }\n    };\n\n    getLink(key, value) {\n        const { location: { search, pathname } } = this.props;\n        const obj = {\n            ...convertQueryStringToKeyValuePairs(search)\n        };\n\n        if (key) {\n            obj[key] = value;\n        }\n\n        const query = objectToUri(obj);\n\n        return `${pathname}${query}`;\n    }\n\n    getRequiredProductOptions(options) {\n        const { productOptionsData } = this.state;\n\n        if (!options) {\n            return [];\n        }\n\n        const requiredOptions = options.reduce((acc, { option_id, required }) => {\n            if (required) {\n                acc.push(option_id);\n            }\n\n            return acc;\n        }, []);\n\n        return this.setState({\n            productOptionsData:\n                { ...productOptionsData, requiredOptions }\n        });\n    }\n\n    setBundlePrice(price) {\n        this.setState({ selectedBundlePrice: price });\n    }\n\n    getSelectedCustomizableOptions(values, updateArray = false) {\n        const { productOptionsData } = this.state;\n\n        if (updateArray) {\n            this.setState({\n                productOptionsData:\n                    { ...productOptionsData, productOptionsMulti: values }\n            });\n        } else {\n            this.setState({\n                productOptionsData:\n                    { ...productOptionsData, productOptions: values }\n            });\n        }\n    }\n\n    getIsConfigurableParameterSelected(parameters, key, value) {\n        return Object.hasOwnProperty.call(parameters, key) && parameters[key] === value;\n    }\n\n    getNewParameters(key, value) {\n        const { parameters } = this.state;\n\n        // If value is already selected, than we remove the key to achieve deselection\n        if (this.getIsConfigurableParameterSelected(parameters, key, value)) {\n            const { [key]: oldValue, ...newParameters } = parameters;\n\n            return newParameters;\n        }\n\n        return {\n            ...parameters,\n            [key]: value.toString()\n        };\n    }\n\n    containerProps = () => ({\n        productOrVariant: this.getProductOrVariant(),\n        dataSource: this.getDataSource(),\n        areDetailsLoaded: this.getAreDetailsLoaded()\n    });\n\n    updateConfigurableVariant(key, value) {\n        const parameters = this.getNewParameters(key, value);\n        this.setState({ parameters });\n\n        this.updateUrl(key, value, parameters);\n        this.updateConfigurableVariantIndex(parameters);\n    }\n\n    updateUrl(key, value, parameters) {\n        const { location, history } = this.props;\n\n        const isParameterSelected = this.getIsConfigurableParameterSelected(parameters, key, value);\n\n        if (isParameterSelected) {\n            updateQueryParamWithoutHistory(key, value, history, location);\n        } else {\n            removeQueryParamWithoutHistory(key, history, location);\n        }\n    }\n\n    updateConfigurableVariantIndex(parameters) {\n        const { product: { variants, configurable_options } } = this.props;\n        const { configurableVariantIndex } = this.state;\n\n        const newIndex = Object.keys(parameters).length === Object.keys(configurable_options).length\n            ? getVariantIndex(variants, parameters)\n            // Not all parameters are selected yet, therefore variantIndex must be invalid\n            : -1;\n\n        if (configurableVariantIndex !== newIndex) {\n            this.setState({ configurableVariantIndex: newIndex });\n        }\n    }\n\n    getAreDetailsLoaded() {\n        const { product } = this.props;\n        const dataSource = this.getDataSource();\n        return dataSource === product;\n    }\n\n    getProductOrVariant() {\n        const dataSource = this.getDataSource();\n        const { variants } = dataSource;\n        const currentVariantIndex = this.getConfigurableVariantIndex(variants);\n        const variant = variants && variants[currentVariantIndex];\n\n        return variant || dataSource;\n    }\n\n    getConfigurableVariantIndex(variants) {\n        const { configurableVariantIndex, parameters } = this.state;\n\n        if (configurableVariantIndex >= 0) {\n            return configurableVariantIndex;\n        }\n\n        if (variants) {\n            return getVariantIndex(variants, parameters);\n        }\n\n        return -1;\n    }\n\n    getDataSource() {\n        const {\n            productSKU,\n            product\n        } = this.props;\n\n        const { sku } = product;\n        const { product: stateProduct } = history?.state?.state || {};\n        const { sku: stateSKU } = stateProduct || {};\n\n        /**\n         * If URL rewrite requested matches loaded product SKU\n         * assume it is a data-source.\n         */\n        if (productSKU === sku) {\n            return product;\n        }\n\n        /**\n         * If URL rewrite requested matches product SKU from\n         * history state - it is a data-source.\n         */\n        if (productSKU === stateSKU) {\n            return stateProduct;\n        }\n\n        /**\n         * Else there is no place to get a up-to-date\n         * information about the product from.\n         */\n        return {};\n    }\n\n    getProductRequestFilter() {\n        const { productSKU } = this.props;\n        return { productSKU };\n    }\n\n    requestProduct() {\n        const { requestProduct, productSKU } = this.props;\n        const { currentProductSKU } = this.state;\n\n        /**\n         * If URL rewrite was not passed - do not request the product.\n         */\n        if (!productSKU) {\n            return;\n        }\n\n        /**\n         * Skip loading the same product SKU the second time\n         */\n        if (currentProductSKU === productSKU) {\n            return;\n        }\n\n        this.setState({ currentProductSKU: productSKU });\n\n        const options = {\n            isSingleProduct: true,\n            args: { filter: this.getProductRequestFilter() }\n        };\n\n        requestProduct(options);\n    }\n\n    updateNavigationState() {\n        const { changeNavigationState } = this.props;\n        changeNavigationState({ name: MENU_TAB });\n    }\n\n    updateMeta() {\n        const { updateMetaFromProduct } = this.props;\n        updateMetaFromProduct(this.getDataSource());\n    }\n\n    updateHeaderState() {\n        const { name = '' } = this.getDataSource();\n        const { changeHeaderState } = this.props;\n\n        changeHeaderState({\n            name: PDP,\n            title: name,\n            onBackClick: () => history.back()\n        });\n    }\n\n    updateBreadcrumbs() {\n        const { updateBreadcrumbs } = this.props;\n        updateBreadcrumbs(this.getDataSource());\n    }\n\n    render() {\n        return (\n            <ProductPage\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    connect(mapStateToProps, mapDispatchToProps)(ProductPageContainer)\n);\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192109784\n      var cssReload = require(\"!../../../../../../../app/design/frontend/Scandiweb/pwa/node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductPage.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\n\nexport const regionType = PropTypes.oneOfType([\n    PropTypes.shape({\n        region_code: PropTypes.string,\n        region: PropTypes.string,\n        region_id: PropTypes.number\n    })\n]);\n\nexport const addressType = PropTypes.shape({\n    city: PropTypes.string,\n    country_id: PropTypes.string,\n    customer_id: PropTypes.number,\n    default_billing: PropTypes.bool,\n    default_shipping: PropTypes.bool,\n    firstname: PropTypes.string,\n    id: PropTypes.number,\n    lastname: PropTypes.string,\n    middlename: PropTypes.string,\n    postcode: PropTypes.string,\n    prefix: PropTypes.string,\n    regionType,\n    street: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string)\n    ]),\n    suffix: PropTypes.string,\n    telephone: PropTypes.string\n});\n\nexport const addressesType = PropTypes.arrayOf(addressType);\n\nexport const customerType = PropTypes.shape({\n    addressesType,\n    created_at: PropTypes.string,\n    default_billing: PropTypes.string,\n    default_shipping: PropTypes.string,\n    dob: PropTypes.date,\n    email: PropTypes.string,\n    firstname: PropTypes.string,\n    group_id: PropTypes.number,\n    id: PropTypes.number,\n    is_subscribed: PropTypes.bool,\n    lastname: PropTypes.string,\n    middlename: PropTypes.string,\n    prefix: PropTypes.string,\n    suffix: PropTypes.string,\n    taxvat: PropTypes.string\n});\n\nexport const baseOrderInfoType = PropTypes.shape({\n    id: PropTypes.number,\n    increment_id: PropTypes.string,\n    created_at: PropTypes.string,\n    status_label: PropTypes.string,\n    grand_total: PropTypes.number,\n    subtotal: PropTypes.string\n});\n\n// TODO: remove objects\nexport const orderType = PropTypes.shape({\n    base_order_info: baseOrderInfoType,\n    order_products: PropTypes.array,\n    payment_info: PropTypes.object,\n    shipping_info: PropTypes.object\n});\n\nexport const ordersType = PropTypes.arrayOf(orderType);\n\nexport const DASHBOARD = 'dashboard';\nexport const MY_ORDERS = 'my-orders';\nexport const MY_WISHLIST = 'my-wishlist';\nexport const ADDRESS_BOOK = 'address-book';\nexport const NEWSLETTER_SUBSCRIPTION = 'newsletter-subscription';\n\nexport const activeTabType = PropTypes.string;\n\nexport const tabType = PropTypes.shape({\n    url: PropTypes.string,\n    name: PropTypes.string\n});\n\nexport const tabMapType = PropTypes.objectOf(tabType);\n\nexport const signInStateType = PropTypes.string;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nexport const RatingOptionItemType = PropTypes.shape({\n    option_id: PropTypes.number,\n    value: PropTypes.number\n});\n\nexport const RatingItemsType = PropTypes.arrayOf(\n    PropTypes.shape({\n        rating_id: PropTypes.number,\n        rating_code: PropTypes.string,\n        rating_options: PropTypes.arrayOf(RatingOptionItemType)\n    })\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable react/no-array-index-key */\n// Disabled due placeholder needs\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport AddToCart from 'Component/AddToCart';\nimport Field from 'Component/Field';\nimport GroupedProductList from 'Component/GroupedProductList';\nimport Html from 'Component/Html';\nimport ProductBundleItems from 'Component/ProductBundleItems';\nimport ProductConfigurableAttributes from 'Component/ProductConfigurableAttributes';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductPrice from 'Component/ProductPrice';\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport ProductWishlistButton from 'Component/ProductWishlistButton';\nimport TextPlaceholder from 'Component/TextPlaceholder';\nimport TierPrices from 'Component/TierPrices';\nimport { DeviceType } from 'Type/Device';\nimport { PriceType, ProductType } from 'Type/ProductList';\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    GROUPED\n} from 'Util/Product';\n\nimport './ProductActions.style';\n\n/**\n * Product actions\n * @class ProductActions\n * @namespace Component/ProductActions/Component\n */\nexport class ProductActions extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        productOrVariant: ProductType.isRequired,\n        minQuantity: PropTypes.number.isRequired,\n        maxQuantity: PropTypes.number.isRequired,\n        configurableVariantIndex: PropTypes.number,\n        showOnlyIfLoaded: PropTypes.func.isRequired,\n        quantity: PropTypes.number.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getLink: PropTypes.func.isRequired,\n        setQuantity: PropTypes.func.isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        getIsConfigurableAttributeAvailable: PropTypes.func.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        clearGroupedProductQuantity: PropTypes.func.isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired,\n        onProductValidationError: PropTypes.func.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        productPrice: PriceType,\n        productName: PropTypes.string,\n        offerCount: PropTypes.number.isRequired,\n        offerType: PropTypes.string.isRequired,\n        stockMeta: PropTypes.string.isRequired,\n        metaLink: PropTypes.string.isRequired,\n        device: DeviceType.isRequired\n    };\n\n    static defaultProps = {\n        configurableVariantIndex: 0,\n        productPrice: {},\n        productName: ''\n    };\n\n    configurableOptionsRef = createRef();\n\n    groupedProductsRef = createRef();\n\n    renderStock(stockStatus) {\n        if (stockStatus === 'OUT_OF_STOCK') {\n            return __('Out of stock');\n        }\n\n        return __('In stock');\n    }\n\n    renderSkuAndStock() {\n        const {\n            product,\n            product: { variants },\n            configurableVariantIndex,\n            showOnlyIfLoaded\n        } = this.props;\n\n        const productOrVariant = variants && variants[configurableVariantIndex] !== undefined\n            ? variants[configurableVariantIndex]\n            : product;\n\n        const { sku, stock_status } = productOrVariant;\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'sku' } }\n              aria-label=\"Product SKU and availability\"\n            >\n                { showOnlyIfLoaded(\n                    sku,\n                    (\n                        <>\n                            <span block=\"ProductActions\" elem=\"Sku\">\n                                SKU:\n                            </span>\n                            <span block=\"ProductActions\" elem=\"Sku\" itemProp=\"sku\">\n                                { `${ sku }` }\n                            </span>\n                            <span block=\"ProductActions\" elem=\"Stock\">\n                                { this.renderStock(stock_status) }\n                            </span>\n                        </>\n                    ),\n                    <TextPlaceholder />\n                ) }\n            </section>\n        );\n    }\n\n    renderConfigurableAttributes() {\n        const {\n            getLink,\n            updateConfigurableVariant,\n            parameters,\n            areDetailsLoaded,\n            product: { configurable_options, type_id },\n            getIsConfigurableAttributeAvailable\n        } = this.props;\n\n        if (type_id !== 'configurable') {\n            return null;\n        }\n\n        return (\n            <div\n              ref={ this.configurableOptionsRef }\n              block=\"ProductActions\"\n              elem=\"AttributesWrapper\"\n            >\n                <ProductConfigurableAttributes\n                    // eslint-disable-next-line no-magic-numbers\n                  numberOfPlaceholders={ [2, 4] }\n                  mix={ { block: 'ProductActions', elem: 'Attributes' } }\n                  isReady={ areDetailsLoaded }\n                  getLink={ getLink }\n                  parameters={ parameters }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  configurable_options={ configurable_options }\n                  getIsConfigurableAttributeAvailable={ getIsConfigurableAttributeAvailable }\n                  isContentExpanded\n                />\n            </div>\n        );\n    }\n\n    renderBundleItems() {\n        const {\n            product: { items, type_id },\n            maxQuantity,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice\n        } = this.props;\n\n        if (type_id !== BUNDLE) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'bundle_items' } }\n            >\n                <ProductBundleItems\n                  items={ items }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  maxQuantity={ maxQuantity }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                />\n            </section>\n        );\n    }\n\n    renderShortDescriptionContent() {\n        const { product: { short_description } } = this.props;\n        const { html } = short_description || {};\n\n        const htmlWithItemProp = `<div itemProp=\"description\">${ html }</div>`;\n\n        return (\n            <div block=\"ProductActions\" elem=\"ShortDescription\">\n                { html ? <Html content={ htmlWithItemProp } /> : <p><TextPlaceholder length=\"long\" /></p> }\n            </div>\n        );\n    }\n\n    renderShortDescription() {\n        const { product: { short_description, id } } = this.props;\n        const { html } = short_description || {};\n\n        if (!html && id) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'short' } }\n              aria-label=\"Product short description\"\n            >\n                { this.renderShortDescriptionContent() }\n            </section>\n        );\n    }\n\n    renderNameAndBrand() {\n        const {\n            product:\n                {\n                    name,\n                    attributes: { brand: { attribute_value: brand } = {} } = {}\n                },\n            showOnlyIfLoaded\n        } = this.props;\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'name' } }\n            >\n                { showOnlyIfLoaded(\n                    brand,\n                    (\n                        <h4 block=\"ProductActions\" elem=\"Brand\" itemProp=\"brand\">\n                            <TextPlaceholder content={ brand } />\n                        </h4>\n                    )\n                ) }\n                <h1 block=\"ProductActions\" elem=\"Title\" itemProp=\"name\">\n                    <TextPlaceholder content={ name } length=\"medium\" />\n                </h1>\n            </section>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            product: { options },\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (device.isMobile) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'customizable_options' } }\n            >\n                <ProductCustomizableOptions\n                  options={ options }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                />\n            </section>\n        );\n    }\n\n    renderQuantityInput() {\n        const {\n            quantity,\n            maxQuantity,\n            minQuantity,\n            setQuantity,\n            product: { type_id }\n        } = this.props;\n\n        if (type_id === GROUPED) {\n            return null;\n        }\n\n        return (\n            <Field\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              value={ quantity }\n              max={ maxQuantity }\n              min={ minQuantity }\n              mix={ { block: 'ProductActions', elem: 'Qty' } }\n              onChange={ setQuantity }\n            />\n        );\n    }\n\n    renderAddToCart() {\n        const {\n            configurableVariantIndex,\n            product,\n            quantity,\n            groupedProductQuantity,\n            onProductValidationError,\n            productOptionsData\n        } = this.props;\n\n        return (\n            <AddToCart\n              product={ product }\n              configurableVariantIndex={ configurableVariantIndex }\n              mix={ { block: 'ProductActions', elem: 'AddToCart' } }\n              quantity={ quantity }\n              groupedProductQuantity={ groupedProductQuantity }\n              onProductValidationError={ onProductValidationError }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderOfferCount() {\n        const { offerCount } = this.props;\n\n        if (offerCount > 1) {\n            return (\n                <meta\n                  itemProp=\"offerCount\"\n                  content={ offerCount }\n                />\n            );\n        }\n\n        return null;\n    }\n\n    renderSchema() {\n        const {\n            productName,\n            stockMeta,\n            metaLink\n        } = this.props;\n\n        return (\n            <>\n                { this.renderOfferCount() }\n                <meta itemProp=\"availability\" content={ stockMeta } />\n                <a\n                  block=\"ProductActions\"\n                  elem=\"Schema-Url\"\n                  itemProp=\"url\"\n                  href={ metaLink }\n                >\n                    { productName }\n                </a>\n            </>\n        );\n    }\n\n    renderConfigurablePriceBadge() {\n        const {\n            configurableVariantIndex,\n            product: { type_id }\n        } = this.props;\n\n        if (\n            type_id !== CONFIGURABLE\n            || configurableVariantIndex > -1\n        ) {\n            return null;\n        }\n\n        return (\n            <p\n              mix={ {\n                  block: 'ProductActions',\n                  elem: 'ConfigurablePriceBadge'\n              } }\n            >\n                { __('As Low as') }\n            </p>\n        );\n    }\n\n    renderPriceWithSchema() {\n        const {\n            productPrice,\n            offerCount\n        } = this.props;\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"PriceWrapper\"\n            >\n                { this.renderConfigurablePriceBadge() }\n                { this.renderSchema() }\n                <ProductPrice\n                  isSchemaRequired\n                  variantsCount={ offerCount }\n                  price={ productPrice }\n                  mix={ { block: 'ProductActions', elem: 'Price' } }\n                />\n            </div>\n        );\n    }\n\n    renderPriceWithGlobalSchema() {\n        const {\n            offerType,\n            product: {\n                type_id\n            }\n        } = this.props;\n\n        if (type_id === GROUPED) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"Schema\"\n              itemType={ offerType }\n              itemProp=\"offers\"\n              itemScope\n            >\n                { this.renderPriceWithSchema() }\n            </div>\n        );\n    }\n\n    renderProductWishlistButton() {\n        const {\n            product,\n            quantity,\n            configurableVariantIndex,\n            onProductValidationError\n        } = this.props;\n\n        return (\n            <ProductWishlistButton\n              product={ product }\n              quantity={ quantity }\n              configurableVariantIndex={ configurableVariantIndex }\n              onProductValidationError={ onProductValidationError }\n            />\n        );\n    }\n\n    renderReviews() {\n        // const {\n        //     product: {\n        //         review_summary: {\n        //             rating_summary,\n        //             review_count\n        //         } = {}\n        //     }\n        // } = this.props;\n\n        let rating_summary = this.props.product?.review_summary?.rating_summary;\n        let review_count = this.props.product?.review_summary?.review_count;\n\n        if (!rating_summary) {\n            return null;\n        }\n\n        const ONE_FIFTH_OF_A_HUNDRED = 20;\n        const rating = parseFloat(rating_summary / ONE_FIFTH_OF_A_HUNDRED).toFixed(2);\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"Reviews\"\n            >\n                <ProductReviewRating summary={ rating_summary || 0 } />\n                <p block=\"ProductActions\" elem=\"ReviewLabel\">\n                    { rating }\n                    <span>{ __('%s reviews', review_count) }</span>\n                </p>\n            </div>\n        );\n    }\n\n    renderGroupedItems() {\n        const {\n            product,\n            product: {\n                type_id\n            },\n            groupedProductQuantity,\n            setGroupedProductQuantity,\n            clearGroupedProductQuantity\n        } = this.props;\n\n        if (type_id !== GROUPED) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"GroupedItems\"\n              ref={ this.groupedProductsRef }\n            >\n                <GroupedProductList\n                  product={ product }\n                  clearGroupedProductQuantity={ clearGroupedProductQuantity }\n                  groupedProductQuantity={ groupedProductQuantity }\n                  setGroupedProductQuantity={ setGroupedProductQuantity }\n                />\n            </div>\n        );\n    }\n\n    renderTierPrices() {\n        const { productOrVariant } = this.props;\n\n        return (\n            <div block=\"ProductActions\" elem=\"TierPrices\">\n                <TierPrices product={ productOrVariant } />\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <article block=\"ProductActions\">\n                { this.renderPriceWithGlobalSchema() }\n                { this.renderShortDescription() }\n                <div\n                  // Id is required to measure the element`s height in Component/ExpandableContent.component.js\n                  id=\"ProductActionsWrapper\"\n                  block=\"ProductActions\"\n                  elem=\"AddToCartWrapper\"\n                >\n                    { this.renderQuantityInput() }\n                    { this.renderAddToCart() }\n                    { this.renderProductWishlistButton() }\n                </div>\n                { this.renderReviews() }\n                { this.renderNameAndBrand() }\n                { this.renderSkuAndStock() }\n                { this.renderConfigurableAttributes() }\n                { this.renderCustomizableOptions() }\n                { this.renderBundleItems() }\n                { this.renderGroupedItems() }\n                { this.renderTierPrices() }\n            </article>\n        );\n    }\n}\n\nexport default ProductActions;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const DEFAULT_MAX_PRODUCTS = 99;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ProductType } from 'Type/ProductList';\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    GROUPED\n} from 'Util/Product';\n\nimport ProductActions from './ProductActions.component';\nimport { DEFAULT_MAX_PRODUCTS } from './ProductActions.config';\n\n/** @namespace Component/ProductActions/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    groupedProductQuantity: state.ProductReducer.groupedProductQuantity,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/ProductActions/Container */\nexport class ProductActionsContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        productOrVariant: PropTypes.object.isRequired,\n        configurableVariantIndex: PropTypes.number.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        getLink: PropTypes.func.isRequired\n    };\n\n    static getMinQuantity(props) {\n        const {\n            product: { stock_item: { min_sale_qty } = {}, variants } = {},\n            configurableVariantIndex\n        } = props;\n\n        if (!min_sale_qty) {\n            return 1;\n        }\n        if (!configurableVariantIndex && !variants) {\n            return min_sale_qty;\n        }\n\n        const { stock_item: { min_sale_qty: minVariantQty } = {} } = variants[configurableVariantIndex] || {};\n\n        return minVariantQty || min_sale_qty;\n    }\n\n    static getMaxQuantity(props) {\n        const {\n            product: {\n                stock_item: {\n                    max_sale_qty\n                } = {},\n                variants\n            } = {},\n            configurableVariantIndex\n        } = props;\n\n        if (!max_sale_qty) {\n            return DEFAULT_MAX_PRODUCTS;\n        }\n\n        if (configurableVariantIndex === -1 || !Object.keys(variants).length) {\n            return max_sale_qty;\n        }\n\n        const {\n            stock_item: {\n                max_sale_qty: maxVariantQty\n            } = {}\n        } = variants[configurableVariantIndex] || {};\n\n        return maxVariantQty || max_sale_qty;\n    }\n\n    state = {\n        quantity: 1,\n        groupedProductQuantity: {}\n    };\n\n    containerFunctions = {\n        showOnlyIfLoaded: this.showOnlyIfLoaded.bind(this),\n        onProductValidationError: this.onProductValidationError.bind(this),\n        getIsOptionInCurrentVariant: this.getIsOptionInCurrentVariant.bind(this),\n        setQuantity: this.setQuantity.bind(this),\n        setGroupedProductQuantity: this._setGroupedProductQuantity.bind(this),\n        clearGroupedProductQuantity: this._clearGroupedProductQuantity.bind(this),\n        getIsConfigurableAttributeAvailable: this.getIsConfigurableAttributeAvailable.bind(this)\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const { quantity } = state;\n        const minQty = ProductActionsContainer.getMinQuantity(props);\n        const maxQty = ProductActionsContainer.getMaxQuantity(props);\n\n        if (quantity < minQty) {\n            return { quantity: minQty };\n        }\n        if (quantity > maxQty) {\n            return { quantity: maxQty };\n        }\n\n        return null;\n    }\n\n    onConfigurableProductError = this.onProductError.bind(this, this.configurableOptionsRef);\n\n    onGroupedProductError = this.onProductError.bind(this, this.groupedProductsRef);\n\n    onProductError(ref) {\n        if (!ref) {\n            return;\n        }\n        const { current } = ref;\n\n        current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center'\n        });\n\n        current.classList.remove('animate');\n        // eslint-disable-next-line no-unused-expressions\n        current.offsetWidth; // trigger a DOM reflow\n        current.classList.add('animate');\n    }\n\n    onProductValidationError(type) {\n        switch (type) {\n        case CONFIGURABLE:\n            this.onConfigurableProductError();\n            break;\n        case GROUPED:\n            this.onGroupedProductError();\n            break;\n        default:\n            break;\n        }\n    }\n\n    setQuantity(value) {\n        this.setState({ quantity: +value });\n    }\n\n    // TODO: make key=>value based\n    getIsOptionInCurrentVariant(attribute, value) {\n        const { configurableVariantIndex, product: { variants } } = this.props;\n        if (!variants) {\n            return false;\n        }\n\n        return variants[configurableVariantIndex].product[attribute] === value;\n    }\n\n    getIsConfigurableAttributeAvailable({ attribute_code, attribute_value }) {\n        const { parameters, product: { variants } } = this.props;\n\n        const isAttributeSelected = Object.hasOwnProperty.call(parameters, attribute_code);\n\n        // If value matches current attribute_value, option should be enabled\n        if (isAttributeSelected && parameters[attribute_code] === attribute_value) {\n            return true;\n        }\n\n        const parameterPairs = Object.entries(parameters);\n\n        const selectedAttributes = isAttributeSelected\n            // Need to exclude itself, otherwise different attribute_values of the same attribute_code will always be disabled\n            ? parameterPairs.filter(([key]) => key !== attribute_code)\n            : parameterPairs;\n\n        return variants\n            .some(({ stock_status, attributes }) => {\n                const { attribute_value: foundValue } = attributes[attribute_code] || {};\n\n                return (\n                    stock_status === 'IN_STOCK'\n                    // Variant must have currently checked attribute_code and attribute_value\n                    && foundValue === attribute_value\n                    // Variant must have all currently selected attributes\n                    && selectedAttributes.every(([key, value]) => attributes[key].attribute_value === value)\n                );\n            });\n    }\n\n    containerProps = () => ({\n        minQuantity: ProductActionsContainer.getMinQuantity(this.props),\n        maxQuantity: ProductActionsContainer.getMaxQuantity(this.props),\n        groupedProductQuantity: this._getGroupedProductQuantity(),\n        productPrice: this.getProductPrice(),\n        productName: this.getProductName(),\n        offerCount: this.getOfferCount(),\n        offerType: this.getOfferType(),\n        stockMeta: this.getStockMeta(),\n        metaLink: this.getMetaLink()\n    });\n\n    getProductName() {\n        const {\n            product,\n            product: { variants = [] },\n            configurableVariantIndex\n        } = this.props;\n\n        const {\n            name\n        } = variants[configurableVariantIndex] || product;\n\n        return name;\n    }\n\n    getMetaLink() {\n        const { getLink } = this.props;\n        return window.location.origin + getLink().replace(/\\?.*/, '');\n    }\n\n    getStockMeta() {\n        const {\n            product,\n            product: { variants = [] },\n            configurableVariantIndex\n        } = this.props;\n\n        const {\n            stock_status\n        } = variants[configurableVariantIndex] || product;\n\n        if (stock_status === 'OUT_OF_STOCK') {\n            return 'https://schema.org/OutOfStock';\n        }\n\n        return 'https://schema.org/InStock';\n    }\n\n    getOfferType() {\n        const { product: { variants } } = this.props;\n\n        if (variants && variants.length >= 1) {\n            return 'https://schema.org/AggregateOffer';\n        }\n\n        return 'https://schema.org/Offer';\n    }\n\n    getOfferCount() {\n        const { product: { variants } } = this.props;\n\n        if (variants && variants.length) {\n            return variants.length;\n        }\n\n        return 0;\n    }\n\n    getProductPrice() {\n        const {\n            product,\n            product: { variants = [], type_id },\n            configurableVariantIndex,\n            selectedBundlePrice\n        } = this.props;\n\n        const {\n            price_range\n        } = variants[configurableVariantIndex] || product;\n\n        if (type_id === BUNDLE) {\n            const { price_range: { minimum_price: { regular_price: { currency } } } } = product;\n            const priceValue = { value: selectedBundlePrice, currency };\n\n            return {\n                minimum_price: {\n                    final_price: priceValue,\n                    regular_price: priceValue\n                }\n            };\n        }\n\n        return price_range;\n    }\n\n    _getGroupedProductQuantity() {\n        const { groupedProductQuantity } = this.state;\n        return groupedProductQuantity;\n    }\n\n    _setGroupedProductQuantity(id, value) {\n        this.setState(({ groupedProductQuantity }) => ({\n            groupedProductQuantity: {\n                ...groupedProductQuantity,\n                [id]: value\n            }\n        }));\n    }\n\n    _clearGroupedProductQuantity() {\n        this.setState({ groupedProductQuantity: {} });\n    }\n\n    showOnlyIfLoaded(expression, content, placeholder = content) {\n        const { areDetailsLoaded } = this.props;\n\n        if (!areDetailsLoaded) {\n            return placeholder;\n        }\n        if (areDetailsLoaded && !expression) {\n            return null;\n        }\n\n        return content;\n    }\n\n    render() {\n        return (\n            <ProductActions\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/ProductActions/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductActionsContainer);\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110461\n      var cssReload = require(\"!../../../../node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductActions.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Popup from 'Component/Popup';\nimport ProductReviewForm from 'Component/ProductReviewForm';\nimport ProductReviewList from 'Component/ProductReviewList';\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport { ProductType } from 'Type/ProductList';\n\nimport { REVIEW_POPUP_ID } from './ProductReviews.config';\n\nimport './ProductReviews.style';\n\n/** @namespace Component/ProductReviews/Component */\nexport class ProductReviews extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        areDetailsLoaded: PropTypes.bool\n    };\n\n    static defaultProps = {\n        areDetailsLoaded: false\n    };\n\n    renderPopup() {\n        const { product } = this.props;\n\n        return (\n            <Popup\n              id={ REVIEW_POPUP_ID }\n              mix={ { block: 'ProductReviews', elem: 'Popup' } }\n            >\n                <ProductReviewForm product={ product } />\n            </Popup>\n        );\n    }\n\n    renderButton() {\n        const { showPopup } = this.props;\n\n        return (\n            <button\n              block=\"ProductReviews\"\n              elem=\"Button\"\n              mix={ { block: 'Button' } }\n              onClick={ showPopup }\n            >\n                { __('Write a new review') }\n            </button>\n        );\n    }\n\n    renderNoRating() {\n        return (\n            <p>\n                { __('There are no reviews yet! Click button on the right to submit one!') }\n            </p>\n        );\n    }\n\n    renderRatingSchema(percent, reviewCount) {\n        return (\n            <>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <meta itemProp=\"reviewCount\" content={ reviewCount } />\n            </>\n        );\n    }\n\n    renderRatingData() {\n        // const {\n        //     product: {\n        //         review_summary: {\n        //             rating_summary,\n        //             review_count\n        //         } = {}\n        //     }\n        // } = this.props;\n\n        let rating_summary = this.props.product?.review_summary?.rating_summary;\n        let review_count = this.props.product?.review_summary?.review_count;\n\n        const STARS_COUNT = 5;\n        const PERCENT = 100;\n\n        // eslint-disable-next-line no-mixed-operators\n        const percent = parseFloat(STARS_COUNT * (rating_summary || 0) / PERCENT).toFixed(2);\n\n        if (!review_count) {\n            return this.renderNoRating();\n        }\n\n        return (\n            <>\n                { this.renderRatingSchema(rating_summary, review_count) }\n                <ProductReviewRating\n                  mix={ { block: 'ProductReviews', elem: 'SummaryRating' } }\n                  summary={ rating_summary }\n                />\n                <p block=\"ProductReviews\" elem=\"SummaryDetails\">\n                    { percent }\n                    <span>{ __('%s reviews', review_count || 0) }</span>\n                </p>\n            </>\n        );\n    }\n\n    renderSummary() {\n        // const {\n        //     product: {\n        //         review_summary: {\n        //             review_count\n        //         } = {}\n        //     }\n        // } = this.props;\n\n        let review_count = this.props.product?.review_summary?.review_count;\n\n        const reviewSchemaObject = review_count\n            ? {\n                itemType: 'http://schema.org/AggregateRating',\n                itemProp: 'aggregateRating',\n                itemScope: true\n            } : {};\n\n        return (\n            <div\n              block=\"ProductReviews\"\n              elem=\"Summary\"\n              { ...reviewSchemaObject }\n            >\n                <h3 block=\"ProductReviews\" elem=\"Title\">\n                    { __('Customer reviews') }\n                </h3>\n                { this.renderRatingData() }\n                { this.renderButton() }\n            </div>\n        );\n    }\n\n    renderList() {\n        const { product } = this.props;\n\n        return (\n            <ProductReviewList\n              product={ product }\n            />\n        );\n    }\n\n    render() {\n        const {\n            product,\n            areDetailsLoaded\n        } = this.props;\n\n        // const {\n        //     review_summary: { review_count } = {}\n        // } = product;\n        let review_count = this.props.product?.review_summary?.review_count;\n\n        const heading = areDetailsLoaded\n            ? __('Product reviews (%s)', review_count || '0')\n            : '';\n\n        return (\n            <ContentWrapper\n              label=\"Product reviews\"\n              mix={ { block: 'ProductReviews' } }\n              wrapperMix={ { block: 'ProductReviews', elem: 'Wrapper' } }\n            >\n                <ExpandableContent\n                  mix={ { block: 'ProductReviews', elem: 'Content' } }\n                  heading={ heading }\n                >\n                    { this.renderSummary() }\n                    { this.renderList() }\n                    { this.renderPopup() }\n                </ExpandableContent>\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductReviews;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const REVIEW_POPUP_ID = 'REVIEW_POPUP_ID';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { isSignedIn } from 'Util/Auth';\n\nimport ProductReviews from './ProductReviews.component';\nimport { REVIEW_POPUP_ID } from './ProductReviews.config';\n\n/** @namespace Component/ProductReviews/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isEnabled: state.ConfigReducer.reviews_are_enabled,\n    isGuestEnabled: state.ConfigReducer.reviews_allow_guest\n});\n\n/** @namespace Component/ProductReviews/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(REVIEW_POPUP_ID, payload)),\n    showInfoNotification: (message) => dispatch(showNotification('info', message))\n});\n\n/** @namespace Component/ProductReviews/Container */\nexport class ProductReviewsContainer extends PureComponent {\n    static propTypes = {\n        showInfoNotification: PropTypes.func.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        isGuestEnabled: PropTypes.bool,\n        isEnabled: PropTypes.bool\n    };\n\n    static defaultProps = {\n        isEnabled: true,\n        isGuestEnabled: true\n    };\n\n    containerFunctions = {\n        showPopup: this._showPopup.bind(this)\n    };\n\n    _showPopup() {\n        const {\n            showPopup,\n            isGuestEnabled,\n            showInfoNotification\n        } = this.props;\n\n        // if not logged in and guest reviews are not enabled\n        if (!isSignedIn() && !isGuestEnabled) {\n            showInfoNotification(__('You must login or register to review products.'));\n\n            return;\n        }\n\n        showPopup({ title: __('Write a new review') });\n    }\n\n    render() {\n        const { isEnabled } = this.props;\n\n        if (!isEnabled) {\n            return null;\n        }\n\n        return (\n            <ProductReviews\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewsContainer);\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603192110303\n      var cssReload = require(\"!../../../../node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviews.container';\n"],"sourceRoot":""}